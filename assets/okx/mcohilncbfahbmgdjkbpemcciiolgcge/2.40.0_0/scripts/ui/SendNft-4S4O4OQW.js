import{a as re}from"./chunk-INUHRBE7.js";import{a as ht}from"./chunk-AGUPFE3F.js";import"./chunk-XEXE2SJ2.js";import{a as Tt}from"./chunk-KYSQZ5M5.js";import{a as ae}from"./chunk-MO6HYXXQ.js";import{b as ie,c as Ct,d as wt,e as Be,f as B,g as T,h as me,i as Z,j as Ae,k as bt,l as le,m as Te,n as At}from"./chunk-U3VNLMKW.js";import{s as oe}from"./chunk-Z3F5FSEH.js";import"./chunk-POEDNLGY.js";import{b as yt}from"./chunk-JHZWQWSH.js";import"./chunk-IWZNXKTF.js";import{b as Nt}from"./chunk-4SCEKLXQ.js";import"./chunk-RYMLTDAH.js";import"./chunk-VNM7HA44.js";import"./chunk-65FA4JB3.js";import"./chunk-SBW523XW.js";import{a as rt,n as ft}from"./chunk-NEW56Z2U.js";import{g as vt}from"./chunk-HX34N4W4.js";import"./chunk-F7QJ6WQ5.js";import{a as fo}from"./chunk-TNVBYBO5.js";import{L as se,c as mo,ha as ut,hb as gt,i as Ce,ia as _t,jb as we,kb as be,l as dt,na as xt,o as Ge,qa as A,y as pt}from"./chunk-KRRNVCWZ.js";import{$f as Re,Ca as R,Db as Ke,Eb as Ne,Gb as Ve,Nk as $,Pa as O,Pf as Xe,Qc as Ee,Qd as qe,Rb as Ze,Rd as Je,Tf as ee,_a as je,ce as Qe,cl as it,de as b,dh as he,e as h,ee as l,ga as Ye,hd as te,i as r,il as mt,ja as E,jd as j,k as i,ke as D,kl as lt,l as We,m as io,mg as et,na as lo,ng as tt,oa as ye,oc as co,og as ot,ol as ct,qi as G,rh as st,rl as De,tg as K,va as ze,wa as u,wb as de,wg as nt,xh as at,yh as ne}from"./chunk-YC2Z7II3.js";r();i();var Y=h(E());r();i();io();var M=new We;r();i();var ue=h(E());r();i();var pe=h(E()),ce=h(ye());var Le=({title:e,children:t,onBack:o,onClose:n,nav:s})=>{let a=l(T);return pe.default.createElement("div",{className:"metax-send-nft-page main-container"},!s&&pe.default.createElement(vt,{title:e,onClose:n,onBack:o,closeable:!!n}),s,pe.default.createElement("div",{className:"metax-send-nft-page__content"},a&&pe.default.createElement("div",{className:"metax-send-nft-page__content__main"},t)))};Le.defaultProps={nav:null,title:"",onBack:null,onClose:null};Le.propTypes={children:ce.default.node.isRequired,onBack:ce.default.func,onClose:ce.default.func,title:ce.default.string,nav:ce.default.node};var Ie=Le;r();i();var q=h(E());var Dt=h(ye());r();i();var It=async(e,t,o)=>{let n="",{coinId:s,baseCoinId:a}=o;return e?e.toLowerCase()===t.toLowerCase()?n="wallet_transfer_input_address_errortip_same_address":((s===te||a===te)&&!await tt(e)||(s===j||a===j)&&!await et(e)||o.coinId!==te&&o.coinId!==j&&!ot(e,{allowNonPrefixed:!1}))&&(n="wallet_manage_crypto_errortip_invalid_address_tips"):n="wallet_transfer_errortip_receive_address_empty",n},kt=({amount:e,balance:t,t:o})=>e==="0"?o("wallet_extension_nft_toast_input_amount_no0"):e?e>t?o("wallet_extension_nft_toast_input_amount_no_greater",{max_amount:t}):"":o("wallet_extension_nft_toast_input_transfer_amount");r();i();var U=h(E()),Se=h(ye()),Ft=h(fo());r();i();var ke=h(E());var Oe=h(ye()),St=h(lo());var Ue=({disabled:e,buttonText:t})=>{let o=(0,ke.useCallback)((0,St.debounce)(()=>{e||M.emit("nextClick")},100,{leading:!0,trailing:!1}),[e]);return ke.default.createElement(u,{block:!0,category:u.CATEGORY.fill,type:u.TYPE.highlight,size:u.SIZE.lg,onClick:o,disabled:e},t)};Ue.propTypes={disabled:Oe.default.bool,buttonText:Oe.default.string.isRequired};Ue.defaultProps={disabled:!1};var Pt=Ue;var Me=({nftBalance:e,nftInfo:t,amount:o,toAddress:n,toError:s,amountError:a,onAmountChange:c,onToAddressChange:d,showAmount:f})=>{let m=A();return(0,U.useEffect)(()=>{M.removeAllListeners("nextClick"),M.on("nextClick",()=>{M.emit("pageChange","confirmDetail")})}),U.default.createElement("div",{className:(0,Ft.default)("metax-send-nft-form")},U.default.createElement("div",{className:"metax-send-nft-form__row"},U.default.createElement(R.TextArea,{className:"metax-send-nft-form__address",inputClassName:"metax-send-nft-form__address-input",placeholder:m("wallet_extension_transaction_placeholder_input_address"),label:m("wallet_transfer_subtitle_receive_address"),value:n,error:s?m(s):"",size:R.SIZE.xl,errorType:R.TIP_TYPE.always,onChange:d,tips:m("wallet_extension_nft_popup_toast_wrong_address_cannnot_retrieved"),autoResize:!0})),f&&U.default.createElement("div",{className:"metax-send-nft-form__row"},U.default.createElement(R.Number,{className:"ethereum-send-form__amount",placeholder:"0",title:m("wallet_contract_interactiom_subtitle_amount"),size:R.SIZE.xl,precision:0,enableMinus:!1,value:o,error:a||"",errorType:R.TIP_TYPE.always,onChange:c}),U.default.createElement("div",{className:"metax-send-nft-form__row__max"},U.default.createElement("span",{className:"metax-send-nft-form__row__max-amount"},m("wallet_extension_nft_toast_owned"),":",e),U.default.createElement("span",{onClick:()=>{c(`${t.totalBalance||0}`)},className:"metax-send-nft-form__row__btn-max"},m("wallet_transfer_btn_max_balance_amount")))),U.default.createElement(Pt,{buttonText:m("wallet_transfer_btn_next"),disabled:!n||s||f&&(!o||a)}))};Me.propTypes={nftBalance:Se.default.number.isRequired,amount:Se.default.number,toAddress:Se.default.string};Me.defaultProps={toAddress:"",amount:void 0};var Et=Me;function Gt(e){let t=re(e.nftInfo.baseCoinKey),o=l(Te),n=A(),[s,a]=(0,q.useState)(null),{run:c}=Ge(async(p,g)=>{a(await It(p,g,t))},{wait:200}),[d,f]=(0,q.useState)(null),{run:m}=Ge((p,g)=>{f(kt({amount:p,balance:g,t:n}))},{wait:200}),N=(0,q.useCallback)(p=>{e.setToAddress(p.target.value),c(p.target.value,e.fromAddress)},[e.fromAddress,c]),_=(0,q.useCallback)(p=>{let g=p.replace(/\D.*$/g,"").replace(/^0*/,"").replace(/\D/g,"");e.setAmount(g),m(g,e.nftBalance)},[e.nftBalance,m]);return q.default.createElement(Et,{...e,baseCoin:t,toError:s,amountError:d,showAmount:o,onToAddressChange:N,onAmountChange:_})}Gt.propTypes={nftInfo:Dt.default.object.isRequired};function po(e){var t,o;return{amount:e.nftSend.amount,toAddress:e.nftSend.toAddress,fromAddress:(t=e.nftSend.nftInfo)==null?void 0:t.accountAddress,nftInfo:e.nftSend.nftInfo,nftBalance:(o=e.nftSend.nftInfo)==null?void 0:o.totalBalance}}function uo(e){return{setToAddress:t=>e(ie.setToAddress(t)),setAmount:t=>e(ie.setAmount(t))}}var Bt=Qe(po,uo)(Gt);var _o=()=>{let e=A(),t=b(),o=D(),n=(0,ue.useCallback)(()=>{t(ie.resetSend()),o.goBack()},[o]);return ue.default.createElement(Ie,{onBack:n,onClose:()=>{t(ie.resetSend()),o.replace({pathname:G})},title:e("wallet_home_btn_send")},ue.default.createElement(Bt,null))},Lt=_o;r();i();var _e=h(E());r();i();var Pe=h(E());r();i();var v=h(E());r();i();r();i();function Ot({sendToken:e,data:t,to:o,amount:n,from:s,gas:a,gasPrice:c,nonce:d,supportEip1559:f,maxFeePerGas:m,maxPriorityFeePerGas:N}){let _={data:t,from:s,value:"0",gas:a,nonce:d};return e?_.to=e:(_.value=n,_.to=o),f?(_.type=Xe.FEE_MARKET,_.maxFeePerGas=m,_.maxPriorityFeePerGas=N):_.gasPrice=c,nt(_)}var xo=({sendAmount:e,gasLimit:t,gasPrice:o,nonce:n,maxFeePerGas:s,maxPriorityFeePerGas:a})=>{let c=$(`${e}`),d=$(`${t}`),f=$(`${o}`),m=$(`${n}`),N=$(`${s||0}`),_=$(`${a||0}`);return{hexAmount:c,hexGasLimit:d,hexGasPrice:f,hexNonce:m,hexMaxFeePerGas:N,hexMaxPriorityFeePerGas:_}};function Ut(){let e=b(),{chainId:t,contractAddress:o,accountAddress:n,baseCoinId:s,baseCoinKey:a,localType:c}=l(T),{to:d,amount:f,gasLimit:m,gasPrice:N,maxFeePerGas:_,maxPriorityFeePerGas:p,supportEip1559:g}=l(bt),P=l(Ae);return{send:async(F,C)=>{let k=typeof f>"u"?0:f,{hexAmount:I,hexGasLimit:H,hexGasPrice:L,hexNonce:V,hexMaxFeePerGas:Q,hexMaxPriorityFeePerGas:X}=xo({sendAmount:k,gasLimit:m,gasPrice:N,nonce:F,maxFeePerGas:_,maxPriorityFeePerGas:p}),z=Ot({sendToken:o,amount:I,from:n,gas:H,gasPrice:L,maxFeePerGas:Q,maxPriorityFeePerGas:X,to:d,nonce:V,supportEip1559:g,data:P});return C&&(z.maxFeePerGas?(z.maxFeePerGas=$(C.maxFeePerGas),z.maxPriorityFeePerGas=$(C.maxPriorityFeePerGas)):z.gasPrice=$(C.gasPrice)),await e(rt({...z,coinKey:a,networkType:c,walletAddress:n,coinId:s,chainId:t}))}}}r();i();var J=h(E()),Mt=h(mo());var S=({label:e,value:t,valueDisplay:o,canCopy:n})=>{let s=A(),a=(0,J.useCallback)(()=>{(0,Mt.default)(t),O.success({title:s("wallet_transaction_history_toast_address_copied"),desc:t,duration:3,containerClassName:"address-copy-notification",showClose:!0,placement:O.DIRECTION.top})},[t]);return J.default.createElement("div",{className:"metax-send-nft-confirm"},J.default.createElement("div",{className:"metax-send-nft-confirm__label"},e),J.default.createElement("div",{className:"metax-send-nft-confirm__value",onClick:n?a:void 0},J.default.createElement(Nt,{text:o,maxWidth:"215px"}),n&&J.default.createElement("span",{className:"okds-copy confirm-transaction--copy"})))};r();i();var W=h(E());r();i();var Ht=()=>{let e=l(le),t=l(Z),{baseCoin:o}=se(e),{supportEip1559:n,maxFeePerGas:s,gasPrice:a,gasLimit:c}=t,d=n?s:a,f=ut(d,c,o),m=_t(d,c,o);return{gasFeeToETHDisplay:f,gasFeeToCurrencyDisplay:m}};var $t=()=>{let e=A(),t=b(),o=D(),{accountAddress:n,contractAddress:s}=l(T),a=l(le),c=l(Z),d=l(Ae),[f,{setTrue:m,setFalse:N}]=dt(!1),{gasType:_}=c,p=Re[_],g=p?e(p):"",{gasFeeToETHDisplay:P,gasFeeToCurrencyDisplay:F}=Ht(),C=pt(I=>{t(Ct(I))}),k=()=>{t(B()),o.push(G)};return W.default.createElement("div",{className:"metax-send-nft-confirm metax-send-nft-fee-item"},W.default.createElement("div",{className:"metax-send-nft-confirm__label"},e("wallet_transfer_subtitle_network_fee")),W.default.createElement("div",{className:"metax-send-nft-confirm__value",onClick:m},W.default.createElement("div",{className:"metax-send-nft-confirm__value__content-wrapper"},W.default.createElement("div",{className:"metax-send-nft-confirm__value__title"},g,"\xA0",P),W.default.createElement("div",{className:"metax-send-nft-confirm__value__content"},F)),W.default.createElement("div",{className:"metax-send-nft-confirm__value__narrow"},W.default.createElement("span",{className:"okds-arrow-chevron-right-centered-md",style:{"font-size":"20px",color:"#929292",cursor:"pointer"}}))),W.default.createElement(yt,{visible:f,coinId:a,address:n,inputData:d,tokenAddress:s,value:"0",onBack:N,onClose:k,onGasChange:C}))};r();i();function Wt(){let{baseCoinKey:e}=l(T),o=re(e).coinAmountInt,n=l(Z),{gasLimit:s,gasPrice:a,supportEip1559:c,maxFeePerGas:d,maxPriorityFeePerGas:f}=n;if(s==="0"||c&&(d==="0"||f==="0")||!c&&a==="0")return!1;let N=de(`${(c?d:a)||0}`,`${s||0}`);return Ne(`${o||0}`,N)}var go=()=>{let e=b(),t=A(),o=l(At),{accountAddress:n,baseCoinId:s,image:a,name:c,chainName:d}=l(T),f=Wt(),m=D(),{name:N,keyringName:_}=l(ne),p=l(Z),g=l(le),{toAddress:P,amount:F}=l(me),C=l(Te),[k,I]=(0,v.useState)(!1),{send:H}=Ut(),L=()=>{I(!0)},V=()=>{I(!1)},{gasPrice:Q}=p,z={fetchParams:{coinId:g,from:n,to:P,amount:F,gasPrice:Q},userGasInfo:p,baseCoinAmountUse:"0"},xe=(0,v.useMemo)(()=>C?Ye.thousandFormat(F):"",[F,C]),fe=(0,v.useCallback)(()=>{e(B()),f?m.goBack():m.replace(G)},[f]),Fe=(0,v.useCallback)(async ge=>{let{nonce:ve,updateGasInfo:ao}=ge;try{let $e=await H(ve,ao),{serverTxId:ro}=$e||{};oe({tx_id:ro}),O.success({title:t("wallet_transfer_notif_transaction_submit")}),e(B()),m.replace("/")}catch{O.error({title:t("wallet_home_toast_network_error")})}},[s,n,H]);return v.default.createElement(v.default.Fragment,null,v.default.createElement("div",{className:"metax-send-nft-detail"},v.default.createElement("div",{className:"metax-send-nft-detail__base--container"},v.default.createElement(ae,{src:a,alt:"",startStatus:!0,backupImage:"/static/images/nft/nft-backup-image.png",classnames:"metax-send-nft-detail__icon"}),v.default.createElement("div",{className:"metax-send-nft-detail__name-container"},v.default.createElement("div",{className:"metax-send-nft-detail__name"},c))),v.default.createElement(S,{label:t("wallet_transfer_confirmation_subtitle_wallet"),valueDisplay:`${_} - ${N}`}),v.default.createElement(S,{label:t("wallet_transfer_subtitle_send_address"),value:n,valueDisplay:K(n),canCopy:!0}),v.default.createElement(S,{label:t("wallet_transfer_subtitle_receive_address"),value:P,valueDisplay:K(P),canCopy:!0}),v.default.createElement("div",{className:"metax-send-nft-detail__hr"}),v.default.createElement(S,{label:t("wallet_extension_nft_popup_text_network"),valueDisplay:d}),v.default.createElement($t,null),!o&&!f&&v.default.createElement("div",{className:"metax-send-nft-detail__error"},t("wallet_dapp_connection_errortip_insufficient_tip")),C&&v.default.createElement(S,{label:t("wallet_extension_transaction_module_input_label_amount"),valueDisplay:xe})),v.default.createElement("div",{className:"metax-send-nft-detail__btns"},v.default.createElement(u,{category:u.CATEGORY.outline,type:u.TYPE.secondary,size:u.SIZE.lg,width:160,onClick:fe},t("wallet_dapp_connection_btn_reject")),v.default.createElement(Tt,{dataForCheck:z,onClick:Fe,beforeClick:L,afterClick:V,btnProps:{loading:k,width:160,disabled:o||!f}},t("wallet_set_password_btn_confirm"))))},Yt=go;r();i();var x=h(E());r();i();function zt(e){let{baseCoinKey:t}=l(T),n=re(t).coinAmountInt;return e==="0"?!1:Ne(`${n}`,e)}var vo=()=>{let e=b(),t=A(),{tokenId:o,accountAddress:n,baseCoinId:s,image:a,name:c,chainName:d}=l(T),f=D(),m=(0,x.useRef)(!1),{name:N,keyringName:_}=l(ne),{toAddress:p}=l(me),{solanaFee:g,loading:P}=xt({coinId:s,address:p},!0),{baseCoin:F}=se(s),C=be(g,F),k=we(g,F),I=zt(g),[H,L]=(0,x.useState)(!1);return x.default.createElement(x.default.Fragment,null,x.default.createElement("div",{className:"metax-send-nft-detail"},x.default.createElement("div",{className:"metax-send-nft-detail__base--container"},x.default.createElement(ae,{src:a,startStatus:!0,alt:"",backupImage:"/static/images/nft/nft-backup-image.png",classnames:"metax-send-nft-detail__icon"}),x.default.createElement("div",{className:"metax-send-nft-detail__name-container"},x.default.createElement("div",{className:"metax-send-nft-detail__name"},c))),x.default.createElement(S,{label:t("wallet_transfer_confirmation_subtitle_wallet"),valueDisplay:`${_} - ${N}`}),x.default.createElement(S,{label:t("wallet_transfer_subtitle_send_address"),value:n,valueDisplay:K(n),canCopy:!0}),x.default.createElement(S,{label:t("wallet_transfer_subtitle_receive_address"),value:p,valueDisplay:K(p),canCopy:!0}),x.default.createElement("div",{className:"metax-send-nft-detail__hr"}),x.default.createElement(S,{label:t("wallet_extension_nft_popup_text_network"),valueDisplay:d}),x.default.createElement("div",{className:"metax-send-nft-confirm metax-send-nft-fee-item"},x.default.createElement("div",{className:"metax-send-nft-confirm__label"},t("wallet_transfer_subtitle_network_fee")),x.default.createElement("div",{className:"metax-send-nft-confirm__value"},x.default.createElement("div",{className:"metax-send-nft-confirm__value__content-wrapper"},x.default.createElement("div",{className:"metax-send-nft-confirm__value__title"},t("wallet_transfer_subtitle_trading_speed_average")," ",k),x.default.createElement("div",{className:"metax-send-nft-confirm__value__content"},C)))),!I&&!P&&x.default.createElement("div",{className:"metax-send-nft-detail__error"},t("wallet_dapp_connection_errortip_insufficient_tip"))),x.default.createElement("div",{className:"metax-send-nft-detail__btns"},x.default.createElement(u,{category:u.CATEGORY.outline,type:u.TYPE.secondary,size:u.SIZE.lg,width:160,onClick:()=>{e(B()),I?f.goBack():f.replace(G)}},t("wallet_dapp_connection_btn_reject")),x.default.createElement(u,{category:u.CATEGORY.fill,type:u.TYPE.highlight,size:u.SIZE.lg,width:160,loading:P||H,disabled:!I,onClick:async()=>{if(!m.current){m.current=!0,L(!0);try{let{data:{legal:V}}=await lt({mint:o,address:p}),Q=await mt({coinId:s,address:n},{fromAddr:n,toAddr:p}),X=await e(ft({from:n,to:p,coinId:s,blockHash:Q,serviceCharge:g,txSource:he.NFT,type:"tokenTransfer",coinAmount:1,mint:o,createAssociatedAddress:!V}));oe({tx_id:X}),e(B()),O.success({title:t("wallet_transfer_notif_transaction_submit")}),f.replace(G)}catch{O.error({title:t("wallet_home_toast_network_error")})}m.current=!1,L(!1)}}},t("wallet_set_password_btn_confirm"))))},jt=vo;r();i();var y=h(E());r();i();var Kt=h(co());var yo=e=>new Kt.AptosWallet().GetTransactionHash(e),No=e=>{let t=st(e),o=at(e),s=((o==null?void 0:o.account)||{})[Ee]||"";return{walletId:t,address:s}},ho=async e=>{let t={coinId:j,address:e.address},o={fromAddr:e.fromAddress,toAddr:e.toAddress},{info:n={}}=await it(t,o),{sequenceNumber:s,chainId:a,expirationTimestampSecs:c,gasUnitPrice:d}=n;return{sequenceNumber:s,chainId:a,expirationTimestampSecs:c,gasUnitPrice:d,maxGasAmount:8e3}},Co=e=>async t=>{let{signedTx:o,sequenceNumber:n,fromAddress:s,toAddress:a,gasUnitPrice:c,maxGasAmount:d,amount:f}=e,m={nonce:n},N=de(c,d),_={signedTx:o,coinId:j,fromAdr:s,toAdr:a,serviceCharge:N,extJson:JSON.stringify(m),coinAmount:Ve(f),txSource:he.NFT};return await t(ht(_))},He=e=>async(t,o)=>{let n=o(),{address:s}=No(n),{type:a,maxGasAmount:c,gasUnitPrice:d,fromAddress:f,toAddress:m,receiver:N,sender:_,creator:p,collectionName:g,tokenName:P,version:F,amount:C}=e,k=await ho({fromAddress:f,toAddress:m,address:s});c&&(k.maxGasAmount=c),d&&(k.gasUnitPrice=d);let I={};a===ee.OFFER_NFT||a===ee.OFFER_NFT_SIMULATE?(I.receiver=N,I.amount=C):I.sender=_;let H={type:a,base:k,data:{...I,creator:p,collectionName:g,tokenName:P,version:F}},L=await je().signTransaction(H,s,Ee);return{base:k,signedTx:L}},Vt=e=>async t=>{let{fromAddress:o,toAddress:n,amount:s}=e,{base:a,signedTx:c}=await t(He(e)),d=yo(c);return{txId:await t(Co({...a,signedTx:c,fromAddress:o,toAddress:n,amount:s})),txHash:d}},Zt=async(e={},t)=>{let o;try{o=await ct(t)}catch(a){o=e.maxGasAmount||2e3,console.log(a)}let{gasUnitPrice:n}=e,s=de(n,o);return{gasUnitPrice:n,maxGasAmount:o,fee:s}},qt=e=>async t=>{let{base:o,signedTx:n}=await t(He({...e,type:ee.OFFER_NFT_SIMULATE}));return Zt(o,n)},Jt=e=>async t=>{let{base:o,signedTx:n}=await t(He({...e,type:ee.CLAIM_NFT_SIMULATE}));return Zt(o,n)},Qt=e=>async t=>t(Vt({...e,type:ee.OFFER_NFT})),Xt=e=>async t=>t(Vt({...e,type:ee.CLAIM_NFT})),Rt=async(e,t,o)=>{let{data:{data:{token_data:{handle:n}}}}=await qe(`https://wallet.okex.org/priapi/v1/wallet/rpc/send/aptos/v1/accounts/${e}/resource/0x3::token::Collections`),{data:s}=await Je(`https://wallet.okex.org/priapi/v1/wallet/rpc/send/aptos/v1/tables/${n}/item`,{key_type:"0x3::token::TokenDataId",value_type:"0x3::token::TokenData",key:{creator:e,collection:t,name:o}});return s.largest_property_version};r();i();var eo=h(E());var to=(e,t)=>{let o=b(),[n,s]=(0,eo.useState)({aptosFee:0,gasUnitPrice:"0",maxGasAmount:"0",loading:!1,version:0});return Ce(()=>{(async()=>{s({...n,loading:!0}),e.version=await Rt(e.creator,e.collectionName,e.tokenName);let{gasUnitPrice:c,maxGasAmount:d,fee:f}=t?await o(Jt(e)):await o(qt(e));s({aptosFee:f,gasUnitPrice:c,maxGasAmount:d,loading:!1,version:e.version})})()}),n};var wo=()=>{let e=b(),t=A(),{ownerAddress:o,name:n,projectName:s,accountAddress:a,baseCoinId:c,image:d,chainName:f,claim:m}=l(T),N=D(),{name:_,keyringName:p}=l(ne),{toAddress:g,amount:P=1}=l(me),{baseCoin:F}=se(c),C=m?{fromAddress:a,toAddress:g,sender:a,creator:o,collectionName:s,tokenName:n,amount:P}:{fromAddress:a,toAddress:g,receiver:g,creator:o,collectionName:s,tokenName:n,amount:P},{aptosFee:k,gasUnitPrice:I,maxGasAmount:H,loading:L,version:V}=to(C,m),[Q,X]=(0,y.useState)(!1),z=gt(),xe=we(k,F),fe=Ke(z,Ze(k)),Fe=be(k,F);return y.default.createElement(y.default.Fragment,null,y.default.createElement("div",{className:"metax-send-nft-detail"},y.default.createElement("div",{className:"metax-send-nft-detail__base--container"},y.default.createElement(ae,{src:d,startStatus:!0,alt:"",backupImage:"/static/images/nft/nft-backup-image.png",classnames:"metax-send-nft-detail__icon"}),y.default.createElement("div",{className:"metax-send-nft-detail__name-container"},y.default.createElement("div",{className:"metax-send-nft-detail__name"},n))),y.default.createElement(S,{label:t("wallet_transfer_confirmation_subtitle_wallet"),valueDisplay:`${p} - ${_}`}),y.default.createElement(S,{label:t("wallet_transfer_subtitle_send_address"),value:a,valueDisplay:K(a),canCopy:!0}),y.default.createElement(S,{label:t("wallet_transfer_subtitle_receive_address"),value:g,valueDisplay:K(g),canCopy:!0}),y.default.createElement("div",{className:"metax-send-nft-detail__hr"}),y.default.createElement(S,{label:t("wallet_extension_nft_popup_text_network"),valueDisplay:f}),y.default.createElement("div",{className:"metax-send-nft-confirm metax-send-nft-fee-item"},y.default.createElement("div",{className:"metax-send-nft-confirm__label"},t("wallet_transfer_subtitle_network_fee")),y.default.createElement("div",{className:"metax-send-nft-confirm__value"},L?y.default.createElement(ze,null):y.default.createElement("div",{className:"metax-send-nft-confirm__value__content-wrapper"},y.default.createElement("div",{className:"metax-send-nft-confirm__value__title"},t("wallet_transfer_subtitle_trading_speed_average")," ",xe),y.default.createElement("div",{className:"metax-send-nft-confirm__value__content"},Fe)))),!fe&&!L&&y.default.createElement("div",{className:"metax-send-nft-detail__error"},t("wallet_dapp_connection_errortip_insufficient_tip"))),y.default.createElement("div",{className:"metax-send-nft-detail__btns"},y.default.createElement(u,{category:u.CATEGORY.outline,type:u.TYPE.secondary,size:u.SIZE.lg,width:160,onClick:()=>{e(B()),fe?N.goBack():N.replace(G)}},t("wallet_dapp_connection_btn_reject")),y.default.createElement(u,{category:u.CATEGORY.fill,type:u.TYPE.highlight,size:u.SIZE.lg,width:160,loading:Q,disabled:!fe||L,onClick:async()=>{try{X(!0),C.gasUnitPrice=I,C.maxGasAmount=H,C.version=V;let{txId:ge,txHash:ve}=m?await e(Xt(C)):await e(Qt(C));m?await De(21,ve,g):await De(20,ve,a),oe({tx_id:ge}),e(B()),O.success({title:t("wallet_transfer_notif_transaction_submit")}),N.replace(G)}catch{O.error({title:t("wallet_home_toast_network_error")})}finally{X(!1)}}},t("wallet_set_password_btn_confirm"))))},oo=wo;var bo=()=>{let{baseCoinId:e}=l(T);switch(e){case te:return Pe.default.createElement(jt,null);case j:return Pe.default.createElement(oo,null);default:return Pe.default.createElement(Yt,null)}},no=bo;var Ao=()=>{var s;let e=A(),t=b(),o=(0,_e.useCallback)(()=>{t(Be()),M.emit("pageChange","form")},[]),n=D();return _e.default.createElement(Ie,{title:(s=n.location.state)!=null&&s.nftInfo.claim?e("extension_aptos_nft_title_receiveconfirm"):e("wallet_trade_maintitle_transaction_confirm"),onBack:()=>{var a;if((a=n.location.state)!=null&&a.nftInfo.claim){t(B()),t(Be()),n.goBack();return}o()}},_e.default.createElement(no,null))},so=Ao;var To=()=>{var s;let[e,t]=(0,Y.useState)("form"),o=D(),n=b();return Ce(()=>{var a;o.location.state?n(wt((a=o.location.state)==null?void 0:a.nftInfo)):o.replace(G)}),(0,Y.useEffect)(()=>{M.removeAllListeners("pageChange"),M.on("pageChange",a=>{t(a)})},[]),(0,Y.useEffect)(()=>{var a;(a=o.location.state)!=null&&a.nftInfo.claim&&t("confirmDetail")},[(s=o.location.state)==null?void 0:s.nftInfo.claim]),Y.default.createElement(Y.default.Fragment,null,e==="form"&&Y.default.createElement(Lt,null),e==="confirmDetail"&&Y.default.createElement(so,null))},dr=To;export{dr as default};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

