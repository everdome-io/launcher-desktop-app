import{a as X,b as z,d as V}from"./chunk-7TTKUZVX.js";import{j as B}from"./chunk-CKFSIZPF.js";import"./chunk-PFUOJJI2.js";import{b as Y,c as H}from"./chunk-P4R64FMZ.js";import{k,m as v,n as C,o as x,p as h,q as R}from"./chunk-Z3F5FSEH.js";import"./chunk-IWZNXKTF.js";import{wa as P}from"./chunk-SBW523XW.js";import"./chunk-NEW56Z2U.js";import{g as G}from"./chunk-HX34N4W4.js";import{b as K}from"./chunk-F7QJ6WQ5.js";import{a as ne}from"./chunk-TNVBYBO5.js";import{qa as F,y as D}from"./chunk-KRRNVCWZ.js";import{Aa as O,Bh as U,Bj as b,Ka as S,Lj as W,_g as p,de as L,e as f,ee as _,ej as y,fj as M,hj as A,i as c,ja as oe,k as m,pa as d,qi as u,wa as s}from"./chunk-YC2Z7II3.js";c();m();var t=f(oe()),$=f(ne());c();m();var o={LINE:"LINE",LINK:"LINK",ROUTE:"ROUTE",SWTICH:"SWTICH",MULTILINESWTICH:"MULTILINESWTICH",EXTERNALLINK:"EXTERNALLINK"},I={RPCMODE:"RPCMODE"},se=[{type:o.ROUTE,title:"extension_settings_title_wallet_management",icon:"okx-wallet-plugin-wallet",route:b,point:R,hiddenFn({isRpcMode:n}){return n},value:"walletCount",arrowIcon:"okds-arrow-chevron-right-centered-md"},{type:o.ROUTE,icon:"okx-wallet-plugin-security",route:M,point:C,title:"wallet_settings_subtitle_security_settings",arrowIcon:"okds-arrow-chevron-right-centered-md"},{type:o.ROUTE,icon:"okx-wallet-plugin-setting",route:y,point:v,title:"wallet_extension_settings_preferences",arrowIcon:"okds-arrow-chevron-right-centered-md"},{type:o.ROUTE,route:W,icon:"okx-wallet-plugin-tier-guide",title:"wallet_extension_settings_subtitle_address_book",arrowIcon:"okds-arrow-chevron-right-centered-md",hiddenFn({isRpcMode:n}){return n}},{type:o.LINE},{type:o.SWTICH,actionType:I.RPCMODE,icon:"okx-wallet-plugin-wrenches",desc:"developer_mode_settings_text_morefunction",title:"developer_mode_home_btn_developer_mode",value:"isRpcMode"},{type:o.EXTERNALLINK,url:"https://www.okx.com/web3-docs",icon:"okx-wallet-plugin-documentation",title:"developer_mode_settings_text_devdoc",point:x,hiddenFn({isRpcMode:n}){return!n},arrowIcon:"okx-wallet-plugin-open-link"},{type:o.LINE},{type:o.ROUTE,route:A,icon:"okds-information-circle",title:"extension_settings_title_about_wallet",arrowIcon:"okds-arrow-chevron-right-centered-md"},{type:o.LINK,icon:"okds-support",title:"extension_settings_link_supportcanter",link:"extension_settings_link_supportcanteradd",arrowIcon:"okds-arrow-chevron-right-centered-md"}],Z=se;var re=()=>{let{isRpcMode:n}=_(H),i=_(({metamask:r})=>r.keyringIdentities.length);return{isRpcMode:n,walletCount:i}},ve=({history:n})=>{let i=F(),r=L(),j=V(),q=D(async({type:e,route:a,point:l,url:E,link:w})=>{l==null||l(),e===o.ROUTE&&n.push(a),e===o.LINK&&globalThis.open(i(w)||w),e===o.EXTERNALLINK&&globalThis.platform.openTab({url:E})},[]),g=_(U),[N,J]=(0,t.useState)(!1);(0,t.useEffect)(()=>{let e=[p.COMMON,p.EVM,p.SUI];J(e.includes(g)),r(B(g))},[g]);let T=re(),{isRpcMode:Q}=T,ee=(0,t.useCallback)((e,a)=>{if(a.actionType===I.RPCMODE){if(e&&!N){let l=O.warn({title:i("developer_mode_settings_title_unsupported"),text:i("developer_mode_settings_subtitle_evmonly"),confirmText:i("wallet_extension_protocol_popup_approved_amount_btn_gotit"),confirmBtnProps:{type:s.TYPE.highlight,size:s.SIZE.lg},alignBottom:!1,onConfirm:()=>{l.destroy()}});return!1}return j(e?z:X,async()=>{await r(Y("isRpcMode",e)),e&&(h(),n.replace(`${u}?from=setting`))})}},[N]),te=(e,a)=>{let l=null;return e.type===o.LINE?l=t.default.createElement("div",{key:a,className:"setting-item__line"}):l=t.default.createElement("div",{key:e.title,className:(0,$.default)("setting-item",{"setting-item__hover":[o.EXTERNALLINK,o.ROUTE,o.LINK].includes(e.type)}),onClick:()=>{q(e)}},t.default.createElement(d,{className:`setting-item__icon ${e.icon}`}),t.default.createElement("div",{className:"setting-item__content"},t.default.createElement("div",{className:"setting-item__title"},i(e.title)),!!e.desc&&t.default.createElement("div",{className:"setting-item__desc"},i(e.desc))),e.type===o.SWTICH?t.default.createElement(S,{checked:T[e.value],onChange:E=>{ee(E,e)}}):e.value&&t.default.createElement("div",{className:"setting-item__value"},T[e.value]),!!e.arrowIcon&&t.default.createElement(d,{className:e.arrowIcon})),e.hiddenFn&&e.hiddenFn({isRpcMode:Q})?null:l};return t.default.createElement("div",{className:"setting"},t.default.createElement(G,{className:"setting-nav",title:i("wallet_settings_maintitle_settings"),onBack:()=>{n.replace(u)},closeable:!1}),t.default.createElement("div",{className:"setting-list"},Z.map(te)),t.default.createElement(K.FooterActions,null,t.default.createElement(s,{block:!0,className:"setting-lock__btn",size:s.SIZE.lg,type:s.TYPE.highlight,category:s.CATEGORY.fill,icon:"okx-wallet-plugin-lock",onClick:()=>{k(),r(P())}},t.default.createElement(d,{className:"okx-wallet-plugin-lock",style:{fontSize:24,marginRight:8}}),i("wallet_settings_btn_lock_wallet"))))};export{ve as default};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

