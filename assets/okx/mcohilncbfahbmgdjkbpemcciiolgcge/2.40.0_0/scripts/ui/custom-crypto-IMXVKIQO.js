import{a as Q}from"./chunk-YEBQNEM6.js";import{a as J}from"./chunk-UKDME73C.js";import{a as G}from"./chunk-EQU2E42M.js";import{Fa as Z,da as z,ea as Y,ia as W}from"./chunk-SBW523XW.js";import"./chunk-NEW56Z2U.js";import{g as j}from"./chunk-HX34N4W4.js";import{b as $}from"./chunk-F7QJ6WQ5.js";import"./chunk-TNVBYBO5.js";import{l as H,o as y,qa as K}from"./chunk-KRRNVCWZ.js";import{Ca as d,Qa as f,Qc as S,Td as x,Th as q,Xd as L,Zh as B,ce as E,e as k,i as a,ij as M,ja as gt,jd as T,k as n,ke as P,oa as _t,ph as D,qi as F,rh as O,wa as m,wh as U}from"./chunk-YC2Z7II3.js";a();n();a();n();a();n();var t=k(gt());var c=k(_t());a();n();var V="selectedNetwork";var X=s=>{let{walletAddress:g,addCustomCoins:w,getCustomCoinInfo:tt,supportNetworkList:u,resetCustomCoinInfo:et,getSupportNetworkListAction:ot}=s,N=P(),i=K(),[I,_]=(0,t.useState)(!1),[st,p]=(0,t.useState)(!0),[r,v]=(0,t.useState)({}),[rt,b]=(0,t.useState)({register:!1,status:0}),[h,it]=(0,t.useState)(""),[l,at]=(0,t.useState)({imageUrl:"",name:""}),[Nt,{setTrue:nt,setFalse:ct}]=H(),{run:lt}=y(async e=>{let o;try{o=await tt({contractAddress:e,chainInfo:l})}catch{o={}}e===h&&(v(o),e&&(o==null?void 0:o.symbol)?(_(!1),p(!1)):e?o!=null&&o.symbol||(_(!0),p(!0)):(_(!1),p(!0)))},{wait:500}),{run:mt}=y(async()=>{if(nt(),l.coinId===T){let{data:{register:e,status:o}}=await x(L.getAptosResisterStatus,{address:g,contractAddress:r.contractAddress});if(!e){b({register:!e,status:o});return}}if(r!=null&&r.added){f.error(i("wallet_manage_crypto_errortip_crypto_added"));return}try{await w(r),f.success(i("wallet_manage_crypto_toast_custom_crypto_success")),et(),N.push(F)}catch{f.error("error")}finally{ct()}},{wait:100});if((0,t.useEffect)(()=>{ot()},[]),(0,t.useEffect)(()=>{async function e(){if(u.length>0){let o="Ethereum",dt=await Q(V)||o;at(u.filter(ft=>ft.name===dt)[0]||u[0])}}e()},[u]),!l.imageUrl)return t.default.createElement(G,null);let ut=t.default.createElement("div",{className:"chain-select",onClick:()=>{N.push(`${M}?pageType=customCrypto`)}},t.default.createElement("div",{className:"chain-select-title"},i("wallet_custom_crypto_subtitle_select_network")),t.default.createElement("div",{className:"chain-select-box"},t.default.createElement("img",{className:"chain-select-icon",src:l.imageUrl,alt:"chain"}),t.default.createElement("div",{className:"chain-select-name"},l.name),t.default.createElement("img",{alt:"select",src:"/static/images/nav-global/input-arrow.svg",className:"chain-select-arrow"}))),pt=e=>{v({}),p(!0),it(e),lt(e)},A=(e,o)=>t.default.createElement("div",{className:"crypto-base-info"},t.default.createElement("div",{className:"crypto-base-info-title"},e),t.default.createElement("input",{disabled:!0,className:"crypto-base-info-box",value:o}));return t.default.createElement("div",{className:"custom-crypto-page main-container"},t.default.createElement(J,{customCoin:r,registerDialog:rt,onCancel:()=>{b({register:!1,status:0})}}),t.default.createElement(j,{title:i("wallet_manage_crypto_maintitle_custom_crypto")}),t.default.createElement("div",{className:"custom-crypto--body"},ut,t.default.createElement("div",{className:"contract-address-box"},t.default.createElement(d.TextArea,{autoResize:!0,value:h,title:i("wallet_transaction_history_subtitle_contract_address"),size:d.SIZE.xl,error:I&&i("wallet_manage_crypto_custom_crypto_errortip_invalid_address"),errorType:d.TIP_TYPE.always,placeholder:i("extension_token_input_addcustom_crypto"),onChange:e=>{pt(e.target.value)}})),(r==null?void 0:r.symbol)&&t.default.createElement(t.default.Fragment,null,A(i("wallet_manage_crypto_subtitle_custom_crpto_symbol"),r.symbol),A(i("wallet_manage_crypto_custom_coin_subtitle_decimals"),r.decimals))),t.default.createElement($.FooterActions,null,t.default.createElement(m,{onClick:mt,size:m.SIZE.lg,type:m.TYPE.highlight,category:m.CATEGORY.fill,disabled:I||st},i("wallet_set_password_btn_confirm"))))};X.propTypes={addCustomCoins:c.default.func.isRequired,getCustomCoinInfo:c.default.func.isRequired,resetCustomCoinInfo:c.default.func.isRequired,getSupportNetworkListAction:c.default.func.isRequired,supportNetworkList:c.default.array.isRequired};var R=X;var yt=s=>{let g=O(s);return{walletAddress:U(s)[g].account[S],userInfo:D(s),customCoin:q(s),supportNetworkList:B(s)}},Ct=()=>({getCustomCoinInfo(s){return z(s)},addCustomCoins(s){Y(s)},resetCustomCoinInfo(){W()},getSupportNetworkListAction(){return Z()}}),wt=E(yt,Ct)(R);export{wt as default};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

