import{a as J}from"./chunk-AGUPFE3F.js";import{g as H}from"./chunk-HX34N4W4.js";import"./chunk-F7QJ6WQ5.js";import"./chunk-TNVBYBO5.js";import{L as M,c as R,gb as q,hb as W,jb as $,kb as z,qa as Y}from"./chunk-KRRNVCWZ.js";import{Db as k,Hk as A,Na as I,Pa as x,Qc as u,Rb as S,Tf as O,_a as C,cl as B,de as E,e as h,ee as P,i as p,ja as X,jd as n,k as f,ke as L,le as D,qi as w,rh as G,tg as F,va as b,wa as s,wh as U}from"./chunk-YC2Z7II3.js";p();f();var t=h(X());var j=h(R());p();f();var Z=async(o,r)=>{let m={coinId:n,address:r},v={fromAddr:r},{info:{sequenceNumber:_,chainId:l,maxGasAmount:g,gasUnitPrice:i,expirationTimestampSecs:a}}=await B(m,v),d={type:O.REGISTER,base:{sequenceNumber:_,chainId:l,maxGasAmount:g,gasUnitPrice:i,expirationTimestampSecs:a},data:{tyArg:o}};return await C().signTransaction(d,r,u)};var At=()=>{let o=Y(),r=E(),m=L(),[v,_]=(0,t.useState)(!1),{search:l}=D(),g=(0,t.useMemo)(()=>new URLSearchParams(l).get("contractAddress"),[l]),{baseCoin:i={}}=M(n),a=P(c=>{let N=G(c),y=U(c);return{address:y[N].account[u],wallet:`${y[N].walletName} - ${y[N].keyringName}`}}),{loading:d,aptosFee:e}=q({coinId:n,address:a.address},!0),K=$(e.fee,i),Q=W(),T=k(Q,S(e.fee)),V=z(e.fee,i);return t.default.createElement("div",{className:"aptos-confirm-transaction--main"},t.default.createElement(H,{title:o("wallet_extension_title_register_crypto"),closeable:!1}),t.default.createElement("div",{className:"aptos-confirm-transaction"},t.default.createElement("div",{className:"aptos-confirm-transaction--body"},t.default.createElement("div",{className:"aptos-confirm-transaction--item aptos-confirm-transaction--item-normal"},t.default.createElement("div",{className:"aptos-confirm-transaction--title"},o("wallet_transfer_confirmation_subtitle_wallet")),t.default.createElement("div",{className:"aptos-confirm-transaction--value aptos-confirm-transaction--value-normal"},t.default.createElement("span",null,a.wallet))),t.default.createElement("div",{className:"aptos-confirm-transaction--item aptos-confirm-transaction--item-normal"},t.default.createElement("div",{className:"aptos-confirm-transaction--title"},o("wallet_extension_title_wallet_address")),t.default.createElement("div",{className:"aptos-confirm-transaction--value aptos-confirm-transaction--value-normal"},t.default.createElement("span",null,F(a.address)),t.default.createElement("img",{onClick:()=>{(0,j.default)(a.address),x.success({title:o("wallet_transaction_history_toast_address_copied"),desc:a.fromAddress,containerClassName:"address-copy-notification"})},src:"/static/images/dapp-copy.svg",className:"confirm-transaction--copy"}))),t.default.createElement("div",{className:"confirm-transaction--line"}),t.default.createElement("div",{className:"aptos-confirm-transaction--item aptos-confirm-transaction--item-normal"},t.default.createElement("div",{className:"aptos-confirm-transaction--title"},o("wallet_dapp_conncetion_subtitle_network")),t.default.createElement("div",{className:"aptos-confirm-transaction--value aptos-confirm-transaction--value-normal"},t.default.createElement(I,{width:20,height:20,alt:"",src:i.image||A,errorImg:A,className:"aptos-confirm-transaction--text-image"}),t.default.createElement("span",null,i.chainName))),t.default.createElement("div",{className:"aptos-confirm-transaction--item aptos-confirm-transaction--item-normal"},t.default.createElement("div",{className:"aptos-confirm-transaction--title"},o("wallet_dapp_conncetion_subtitle_network_fee")),d?t.default.createElement(b,null):t.default.createElement("div",{className:"aptos-confirm-transaction--value aptos-confirm-transaction--value-normal"},t.default.createElement("div",null,t.default.createElement("div",null,`${o("wallet_transfer_subtitle_trading_speed_average")} `,K),t.default.createElement("div",{className:"aptos-confirm-transaction--multi-bottom"},V)))),!T&&t.default.createElement("div",{className:"aptos-confirm-transaction--insufficient-gas"},o("wallet_extension_popup_insufficient_network_fee",{token:i.symbol})))),t.default.createElement("div",{className:"aptos-confirm-transaction--button-group"},t.default.createElement(s,{className:"ok-confirm-transaction-button",category:s.CATEGORY.outline,type:s.TYPE.secondary,size:s.SIZE.md,block:!0,onClick:async()=>{m.push(w)}},o("wallet_dapp_connection_btn_reject")),t.default.createElement(s,{block:!0,loading:v,className:"ok-confirm-transaction-button",category:s.CATEGORY.fill,type:s.TYPE.highlight,size:s.SIZE.md,disabled:!T||d,onClick:async()=>{_(!0);let c=await Z(g,a.address);await r(J({signedTx:c,coinAmount:0,coinId:n,fromAdr:a.address,toAdr:"",serviceCharge:e.fee,extJson:JSON.stringify({register:!0})})),m.push(w)}},o("wallet_set_password_btn_confirm"))))};export{At as default};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

