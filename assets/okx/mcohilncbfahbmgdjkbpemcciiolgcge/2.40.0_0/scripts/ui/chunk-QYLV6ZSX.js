import{a as at}from"./chunk-Z2IGO6V3.js";import{w as H,x as $}from"./chunk-TV2DN7Q7.js";import{Ha as l}from"./chunk-SBW523XW.js";import{L,Oa as O,Pa as F,eb as D,fb as h,jb as P,kb as U,qa as I}from"./chunk-KRRNVCWZ.js";import{Db as W,Qb as R,Yf as f,de as w,e as _,ee as T,i,id as E,ja as M,k as s,ke as g,qi as c,tk as y,wh as x,yb as q}from"./chunk-YC2Z7II3.js";i();s();var b=_(M());i();s();var N=_(M());var v=_(at());var z=({unapproved:t})=>{let a=I(),e=w(),m=g(),{baseCoin:o={}}=L(E),[d,n]=(0,N.useState)(!1),r=T(k=>{let S=t.walletId,C=x(k),A=y(k);return{icon:A[t.origin].icon,host:A[t.origin].host,name:A[t.origin].name,unapproved:t,address:C[S].account.tron,walletName:C[S].walletName,keyringName:C[S].keyringName}}),p=o.coinId||E,{data:K="",contract_address:Q,call_value:X=0}=t.params.transaction.raw_data.contract[0].parameter.value,{trxFee:u=0,loading:G}=F({coinId:p,address:r.address,inputData:K,toAddr:v.default.address.fromHex(Q)},!0),Y=O(),Z=P(u,o),tt=U(u,o),et=W(Y,q(R(u),R(X))),{isOffline:j=!1,extraData:ot}=t.params;return N.default.createElement(H,{errorText:a("wallet_extension_popup_insufficient_network_fee",{token:o.symbol}),navTitle:a("wallet_extension_popup_title_contract_interaction"),walletInfo:r,unapproved:t,baseCoin:o,isSufficientGas:j||G||et,coinToDisplay:Z,feeToDisplay:tt,reject:async()=>{await e(l()),await e(D(r.unapproved.id)),m.push(c)},confirm:async()=>{n(!0);try{await e(h(r.unapproved.id,j?{...ot,serviceCharge:u}:{})),await e(l()),m.push(c)}finally{n(!1)}},rejectText:a("wallet_dapp_connection_btn_reject"),confirmText:a("wallet_set_password_btn_confirm"),loadingTx:d,loading:G})};i();s();var B=_(M());var J=({unapproved:t})=>{let a=I(),e=w(),m=g(),o=T(d=>{let n=t.walletId,r=x(d),p=y(d);return{icon:p[t.origin].icon,host:p[t.origin].host,name:p[t.origin].name,unapproved:t,address:r[n].account.solana,wallet:`${r[n].walletName} - ${r[n].keyringName}`}});return B.default.createElement($,{navTitle:a("wallet_dapp_conncetion_notify_signature_request"),walletInfo:o,message:t.params.message,rejectText:a("wallet_dapp_connection_btn_reject"),confirmText:a("wallet_set_password_btn_confirm"),reject:async()=>{await e(D(o.unapproved.id)),await e(l()),m.push(c)},confirm:async()=>{await e(h(o.unapproved.id)),await e(l()),m.push(c)}})};var bt=({unapproved:t})=>{switch(t.method){case f.SIGN_TRANSACTION:case f.RPC_SIGN_TRANSACTION:return b.default.createElement(z,{unapproved:t});case f.SIGN_MESSAGE:case f.RPC_SIGN_MESSAGE:return b.default.createElement(J,{unapproved:t});default:return""}};export{bt as a};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

