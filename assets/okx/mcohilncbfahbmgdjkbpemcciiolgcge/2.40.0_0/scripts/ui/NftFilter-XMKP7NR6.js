import{a as st}from"./chunk-Z3HCMRMH.js";import{a as J}from"./chunk-EQU2E42M.js";import{b as tt,c as et,f as ot,i as b,k as nt}from"./chunk-BZBZNG4R.js";import{b as R}from"./chunk-4SCEKLXQ.js";import"./chunk-RYMLTDAH.js";import"./chunk-VNM7HA44.js";import{g as $}from"./chunk-HX34N4W4.js";import{b as X}from"./chunk-F7QJ6WQ5.js";import{a as Q}from"./chunk-TNVBYBO5.js";import{qa as I,r as E}from"./chunk-KRRNVCWZ.js";import{Ca as z,Na as H,Xc as W,bi as q,de as G,e as a,ee as _,i as p,ja as S,k as d,ke as Z,na as xt,oa as Y,qi as M,wa as c}from"./chunk-YC2Z7II3.js";p();d();var e=a(S()),A=a(Q());var f=a(xt());p();d();var T=a(S()),w=a(Y());p();d();var y=a(S()),it=a(Q()),L=a(Y()),lt=({item:s,clickHandle:n,value:u})=>y.default.createElement("div",{className:(0,it.default)("ok-button-checkbox--item",{"ok-button-checkbox--item-outline":u.includes(s.value)}),onClick:()=>{n&&n(s.value)}},s.image&&y.default.createElement("img",{src:s.image}),y.default.createElement("span",null,s.label));lt.propTypes={item:L.default.object,clickHandle:L.default.func,value:L.default.array};var rt=lt;var at=({options:s,valueOption:n=[],onChange:u})=>{let g=h=>{u&&u(h)};return T.default.createElement("div",{className:"ok-button-checkbox--content"},s.map((h,m)=>T.default.createElement(rt,{key:m,item:h,value:n,clickHandle:g})))};at.propTypes={options:w.default.array,onChange:w.default.func,valueOption:w.default.array};var j=at;p();d();var i=a(S());var St=({collectionsList:s,searchResult:n,onSearchItemClick:u})=>{let g=I();return _(tt)?i.default.createElement(J,{overwriteClassName:!0,className:"ok-home--loading-parent"}):s.length===0?i.default.createElement("div",{className:"ok-nft-filter--no-collection"},i.default.createElement("img",{src:"/static/images/nft/nft-filter-no-collection.svg"}),i.default.createElement("div",null,g("wallet_extension_nft_text_no_collection"))):i.default.createElement(i.default.Fragment,null,s.map((m,k)=>i.default.createElement("div",{onClick:()=>{u(m)},key:k,className:"ok-nft-filter--search-item"},i.default.createElement("div",{className:"ok-nft-filter--search-item-popup"}),i.default.createElement(H,{errorImg:"/static/images/tx-history/default-nft.svg",width:24,height:24,src:m.icon||"/static/images/tx-history/default-nft.svg",className:"ok-nft-filter--search-icon",alt:""}),i.default.createElement(R,{className:"ok-nft-filter--search-name",maxWidth:"270px",text:m.name}),n.includes(m.projectId)&&i.default.createElement("span",{className:"okds-success-circle-fill ok-nft-filter--search-selected"}))))},ct=St;var It=()=>{let s=Z(),n=I(),u=_(q),g=[66,1,137,43114,56,501,637],h=W.sort((t,o)=>t.coinId-o.coinId).map(t=>{let o=u.find(r=>r.coinId===t.coinId);return{label:(o==null?void 0:o.chainName)||t.chainName,value:t.netWorkId,image:(o==null?void 0:o.image)||t.image}}).filter(t=>g.includes(Number(t.value))),m=_(et).total,k=G(),l=_(ot),B=t=>t?{projects:t.collectionFilter.join(","),chainIds:t.chainListFilter.join(","),saleStatus:t.saleStatusFilter.join(",")}:null,[ft,ut]=(0,e.useState)(B(l)||{projects:"",chainIds:"",saleStatus:""}),[D,mt]=(0,e.useState)(Object.keys(l).some(t=>l[t].length!==0));E(()=>{ut(B(l)),mt(Object.keys(l).some(t=>l[t].length!==0))},[l]);let[pt,dt]=(0,e.useState)([]),ht=[{label:n("wallet_extension_nft_filter_tag_offer_received"),value:"OFFERS_RECEIVE"},{label:n("wallet_extension_nft_filter_tag_on_sale"),value:"ON_SALE"}],[F,V]=(0,e.useState)("");st(ft),(0,e.useEffect)(()=>{(async()=>{k(b.setNftCollectionLoadingStatus({nftCollectionLoadingStatus:!0}));let o=await nt({keywords:F});k(b.setNftCollectionLoadingStatus({nftCollectionLoadingStatus:!1})),dt(o)})()},[k,F]);let[v,P]=(0,e.useState)((0,f.cloneDeep)(l.collectionFilter)),[N,K]=(0,e.useState)((0,f.cloneDeep)(l.chainListFilter)),[C,U]=(0,e.useState)((0,f.cloneDeep)(l.saleStatusFilter)),kt=(0,e.useCallback)(t=>{V(t.target.value)},[]),_t=(0,e.useCallback)(t=>{let o=(0,f.cloneDeep)(v),r=o.findIndex(x=>x===t.projectId);r!==-1?o.splice(r,1):o.push(t.projectId),P(o)},[v]),gt=(0,e.useCallback)(t=>{let o=(0,f.cloneDeep)(N),r=o.findIndex(x=>x===t);r!==-1?o.splice(r,1):o.push(t),K((0,f.cloneDeep)(o))},[N]),vt=(0,e.useCallback)(t=>{let o=(0,f.cloneDeep)(C),r=o.findIndex(x=>x===t);r!==-1?o.splice(r,1):o.push(t),U((0,f.cloneDeep)(o))},[C]),Nt=(0,e.useCallback)(()=>{U([]),K([]),V(""),P([])},[]);E(()=>{let t={chainListFilter:N,saleStatusFilter:C,collectionFilter:v};k(b.setNftFilterInfo({filterInfo:t}))},[N,C,v]);let Ct=(0,e.useCallback)(()=>{s.push(M)},[]);return e.default.createElement("div",{className:"ok-nft-filter--main"},e.default.createElement($,{title:n("wallet_extension_nft_popup_title_filter"),closeable:!1}),e.default.createElement("div",{className:"ok-nft-filter--block"},e.default.createElement("div",{className:"ok-nft-filter--block-title"},n("wallet_extension_nft_popup_text_network")),e.default.createElement(j,{options:h,onChange:t=>{gt(t)},valueOption:N})),e.default.createElement("div",{className:"ok-nft-filter--block"},e.default.createElement("div",{className:"ok-nft-filter--block-title"},n("wallet_extension_nft_filter_status")),e.default.createElement(j,{options:ht,onChange:t=>{vt(t)},valueOption:C})),e.default.createElement("div",{className:(0,A.default)("ok-nft-filter--block","ok-nft-filter--collections")},e.default.createElement("div",{className:(0,A.default)("ok-nft-filter--block-title","ok-nft-filter--block-title-collections")},n("wallet_extension_nft_text_collections")),e.default.createElement(z.Search,{className:"ok-nft-filter--search-input",placeholder:n("wallet_extension_nft_placeholder_search_collections"),value:F,size:"sm",onChange:kt}),e.default.createElement(ct,{collectionsList:pt,searchResult:v,onSearchItemClick:_t})),e.default.createElement(X.FooterActions,null,e.default.createElement(c,{category:c.CATEGORY.outline,type:c.TYPE.primary,size:c.SIZE.lg,disabled:!D,onClick:()=>{Nt()}},n("wallet_extension_nft_btn_clear")),e.default.createElement(c,{category:c.CATEGORY.fill,type:c.TYPE.highlight,size:c.SIZE.lg,disabled:!D,onClick:()=>{Ct()}},n("wallet_extension_nft_btn_apply",{number:m}))))},ee=It;export{ee as default};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

