import{a as C}from"./chunk-4PTE5JIT.js";import{e as Y,f as F}from"./chunk-PBP4MB33.js";import{Va as W,f as v,k as I,l as A,u as P}from"./chunk-SBW523XW.js";import"./chunk-NEW56Z2U.js";import{g as S}from"./chunk-HX34N4W4.js";import{b as N}from"./chunk-F7QJ6WQ5.js";import"./chunk-TNVBYBO5.js";import{qa as D,y as f}from"./chunk-KRRNVCWZ.js";import{Ca as E,Ii as y,Ki as h,Qa as d,de as u,e as x,i as T,ja as k,k as L,qi as g,wa as a}from"./chunk-YC2Z7II3.js";T();L();var e=x(k());var i={DELETE_WALLET:"deleteWallet",DELETE_LAST_WALLET:"deleteLastWallet",DELETE_KEYRING_WALLETS:"deleteKeyringWallets"},G=13,Q=l=>{let{current:{walletId:n,keyringId:K,actionType:r,nextPath:w=g}}=e.default.useRef(C(l.history.location.search.slice(1))),s=u(),[t,O]=e.default.useState(),[c,m]=e.default.useState(),o=D(),b=f(({target:{value:_}})=>{O(_),m(void 0)},[]),p=f(async()=>{try{if(await P(t)===!0){if(r===i.DELETE_LAST_WALLET){await s(v()),await s(W()),l.history.push(h);return}else r===i.DELETE_WALLET?(await s(I(n)),await s(F(n)),d.success(o("wallet_editwallet_toast_delete_wallet_success"))):r===i.DELETE_KEYRING_WALLETS&&(await s(A(n)),await s(Y(K)),d.success(o("wallet_editwallet_toast_delete_wallet_success")));l.history.replace(w)}}catch{m(o("wallet_set_password_errortip_password_wrong"))}},[w,n,t,r]);return e.default.createElement("div",{className:"verify_password_page__wrapper main-container",onKeyDown:_=>{_.keyCode===G&&p()}},e.default.createElement(S,{bordered:!1,closeable:[i.DELETE_WALLET,i.DELETE_KEYRING_WALLETS].includes(r)}),e.default.createElement("div",{className:"verify-password-page"},e.default.createElement("h2",{className:"verify-password-page__header"},o("wallet_set_password_maintitle_enter_password")),e.default.createElement("div",{className:"verify-password-page__input"},e.default.createElement(E.Password,{autoFocus:!0,value:t,autoComplete:"off",onChange:b,size:E.SIZE.xl,error:c,errorType:E.TIP_TYPE.always})),e.default.createElement("div",{onClick:()=>l.history.push(y),className:"verify-password-page__forget-password"},o("wallet_footer_subtitle_forgot_password")),e.default.createElement(N.FooterActions,null,e.default.createElement(a,{onClick:p,size:a.SIZE.lg,type:a.TYPE.highlight,category:a.CATEGORY.fill,disabled:!t||(t==null?void 0:t.length)<6||!!c},o("wallet_set_password_btn_confirm")))))};export{Q as default};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

