import{a as G}from"./chunk-EG54FT5Y.js";import{c as H}from"./chunk-XRONFNCJ.js";import{a as $}from"./chunk-4PTE5JIT.js";import{D as U,E as R,ya as V}from"./chunk-SBW523XW.js";import"./chunk-NEW56Z2U.js";import{g as F}from"./chunk-HX34N4W4.js";import"./chunk-F7QJ6WQ5.js";import"./chunk-TNVBYBO5.js";import{qa as q}from"./chunk-KRRNVCWZ.js";import{Aj as O,Bj as P,Pa as c,ce as L,de as M,e as k,g as S,i as s,ja as A,k as r,ke as C,oa as D,qi as B}from"./chunk-YC2Z7II3.js";s();r();s();r();s();r();var t=k(A());var W=k(D());s();r();s();r();var n=k(A()),p=k(D());s();r();var y=class extends n.default.Component{render(){let{t:h}=this.context,g=this.props.confuseWords;return n.default.createElement("div",{className:"seed-box"},n.default.createElement("div",{className:"seed-box-title"},n.default.createElement("span",{className:"seed-box-title-word"},h("wallet_double_check_seed_phase_label_seed_word")),n.default.createElement("span",{className:"seed-box-title-index"},"#",this.props.index)),g.map((i,f)=>n.default.createElement("div",{key:f,onClick:d=>{this.props.getSelectWord(this.props.compIndex,f,i,d)},className:`seed-box-item ${f===this.props.selectedIndex?"active":""}`},n.default.createElement("span",{className:"seed-box-item-index"},i))))}};S(y,"contextTypes",{t:p.default.func});y.propTypes={selectedIndex:p.default.number,confuseWords:p.default.array,index:p.default.number,compIndex:p.default.number,getSelectWord:p.default.func};var T=y;var Y=({selectedWallet:m,keyringIdentities:h})=>{var E,v;let g=M(),i=q(),f={title:i("wallet_backup_subtitle_double_check_seed_phase"),desc:i("wallet_double_check_seed_phase_subtitle_verify_seed_phase")},d=C(),{walletId:z}=$((E=d.location.search)==null?void 0:E.slice(1)),x=z||m,[w,J]=(0,t.useState)([]),[b,K]=(0,t.useState)([]);(0,t.useEffect)(()=>{(async()=>{let e=await R(x);J([...e]),K([...e.map(a=>a.word)])})()},[]);let[l,I]=(0,t.useState)([]),Q=i("wallet_backup_wallet_toast_backup_success"),N=i("wallet_double_check_seed_phase_errortip_wrong"),X=(o,e)=>{let a=[...l];a[o]=l[o]===e?-1:e,I(a)},Z=o=>o.map((e,a)=>w[a].confuseWords[e]),ee=async()=>{let o=Z(l);if(b.length!==o.length)return I([]),c.warn({title:N,duration:1.5,placement:c.DIRECTION.top}),!1;let e=b.length;for(let u=0;u<e;u++)if(b[u]!==o[u])return I([]),c.warn({title:N,duration:1.5,placement:c.DIRECTION.top}),null;return await U(x),await V(g),c.success({title:Q,duration:1.5,placement:c.DIRECTION.top}),d.location.pathname===O?d.replace(`${P}?from=seedVerify`):d.push(B),null};return(0,t.useEffect)(()=>{l.includes(-1)||l.length<3||ee()},[l]),t.default.createElement("div",{className:"main-container"},t.default.createElement(F,{title:((v=H(h,x))==null?void 0:v.keyringName)||""}),t.default.createElement("div",{className:"verify-page-main"},t.default.createElement(G,{...f}),w.map((o,e)=>t.default.createElement(T,{key:e,...o,getSelectWord:(a,u)=>{X(a,u)},selectedIndex:l[e],compIndex:e}))))};Y.propTypes={selectedWallet:W.default.string.isRequired,keyringIdentities:W.default.array.isRequired};var j=Y;var te=m=>({selectedWallet:m.metamask.selectedWallet,walletIdentities:m.metamask.walletIdentities,keyringIdentities:m.metamask.keyringIdentities}),se=L(te)(j);export{se as default};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

