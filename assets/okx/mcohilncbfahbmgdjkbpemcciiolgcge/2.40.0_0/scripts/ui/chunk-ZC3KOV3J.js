import{a as W}from"./chunk-4DLG5GSZ.js";import{d as A,g as tt}from"./chunk-HX34N4W4.js";import{a as L}from"./chunk-F7QJ6WQ5.js";import{a as at}from"./chunk-TNVBYBO5.js";import{C as F,S as X,T as R,k as D,qa as v,y as G}from"./chunk-KRRNVCWZ.js";import{Al as J,Bl as K,Cl as Q,Fa as O,Gh as V,Ik as q,La as M,Na as j,Ua as N,Uk as H,e as w,ee as b,i as c,ja as I,k as m,pa as $,ua as lt,va as U,wb as Z}from"./chunk-YC2Z7II3.js";c();m();var Y=w(I()),rt=w(lt());c();m();var x=w(I());c();m();var s=w(I());function ct(){let[e,o]=(0,s.useState)([]),[t,f]=(0,s.useState)(!1),[u,n]=(0,s.useState)(!1),a=b(({metamask:p})=>{let d,{selectedWallet:r,keyringIdentities:k}=p;return k.find(S=>(d=S.walletIdentities.find(h=>h.walletId===r),d)),[...new Set(Object.values(d.account))]}),l=b(H),i=G(async()=>{n(!0),setTimeout(()=>{n(!1)},2e3);let p=await J({userWalletAddresses:a,deviceId:""}).catch(()=>{n(!1)}),{data:d={},code:r}=p;r!==0&&f(!0);let{gasStationSupportChainList:k=[]}=d,S=k.filter(h=>!!l.find(z=>`${z.chainId}`==`${h.chainId}`));o(S),n(!1)});return(0,s.useEffect)(()=>{i()},[i]),{chainList:e,isError:t,request:i,loading:u}}function mt({supportChainList:e,walletId:o}){let[t,f]=(0,s.useState)([]),[u,n]=(0,s.useState)(!1),a=(0,s.useCallback)(async()=>{n(!0);let l=await Q({supportChainList:e,walletId:o}),{data:i=[],code:p}=l;if(p!==0){n(!1);return}f(i),n(!1)},[e,o]);return(0,s.useEffect)(()=>{e.length&&a()},[a,e]),{loading:u,allCoinList:t}}function ot({tabChainId:e}){let{chainList:o}=ct(),[t,f]=(0,s.useState)(),[u,n]=(0,s.useState)(!1),[a,l]=(0,s.useState)([]),i=b(({metamask:h})=>h.selectedWallet),p=(0,s.useMemo)(()=>o.map(h=>h.chainId),[o]),{allCoinList:d}=mt({supportChainList:p,walletId:i}),r=v(),k=(0,s.useMemo)(()=>o.length>1?[{chainName:r("wallet_extension_history_dropdown_all_network"),chainId:"all"},...o]:o,[o,r]),S=G(async()=>{n(!0),l([]);let h=await K({chainId:t,walletId:i}),{data:z=[],code:st}=h;if(st!==0){n(!1);return}l(z),n(!1)});return(0,s.useEffect)(()=>{t&&t!=="all"&&S()},[S,t]),(0,s.useEffect)(()=>{t==="all"&&l(d)},[t,d]),(0,s.useEffect)(()=>{e&&k.find(h=>`${h.chainId}`==`${e}`)?f(e):k.length&&f(k[0].chainId)},[k,e]),{loading:u,coinList:a,allCoinList:d,chainList:k,chainId:t,setChainId:f}}c();m();var g=w(I());c();m();var _=w(I()),E=w(at());var ft=({visible:e,onClick:o,onClose:t,options:f,activeId:u=0,timeout:n=0})=>{let a=(0,_.useRef)(null),l=F(e,n,a);return l===F.STATUS.UNMOUNT?null:_.default.createElement("div",{className:(0,E.default)("coin-detail__network-select",`coin-detail__network-select--${l}`),ref:a},_.default.createElement("div",{className:(0,E.default)("coin-detail__network-select__mask",`coin-detail__network-select__mask--${l}`),onClick:t}),_.default.createElement("div",{className:(0,E.default)("coin-detail__network-select__content",`coin-detail__network-select__content--${l}`)},_.default.createElement("div",{className:"coin-detail__network-select__content-head"},_.default.createElement(W,{onClick:t},_.default.createElement($,{className:"okx-wallet-plugin-close",style:{fontSize:"24px"}}))),_.default.createElement("div",{className:"coin-detail__network-select__content-list"},f.map((i,p)=>_.default.createElement("div",{key:i.chainName,className:(0,E.default)("coin-detail__network-select__content-list-item",{"coin-detail__network-select__content-list-item--active":p===u,"coin-detail__network-select__content-list-item--no-margin":(p+1)%3===0}),onClick:()=>{o(i),t()}},i.chainName)))))},et=(0,_.memo)(ft);c();m();var ut=({activeId:e,onChange:o,chainList:t})=>{let f=v(),[u,{toggle:n}]=D(!1),[a,{toggle:l}]=D(!1);return(0,g.useEffect)(()=>{document.querySelector(".okui-tabs-pane-list-container").clientWidth>290&&n(!0)},[]),g.default.createElement(g.default.Fragment,null,g.default.createElement(N,{category:N.CATEGORY.fill,type:N.TYPE.primary,size:N.SIZE.xs,activeId:e,headerClassName:"gas-chain__tabs",fullScreenScroll:!0,hideContent:!0,hideNav:!0,clickToView:!0,noLine:!0,style:{height:44},afterSlot:u?g.default.createElement(M,{className:"gas-chain__tooltip",title:f("wallet_extension_overview_more"),type:M.TYPES.neutral,placement:M.DIRECTION.bottom},g.default.createElement(W,{onClick:l},g.default.createElement($,{className:"okx-wallet-plugin-arrow-small-down",style:{fontSize:"12px"}}))):null},t.map((i,p)=>g.default.createElement(N.TabPane,{tab:i.chainName,key:i.chainName,id:p,onClick:()=>{o(i)},className:"gas-chain__tabs-pane"}))),g.default.createElement(et,{visible:a,timeout:400,onClose:l,onClick:o,options:t,activeId:e}))},nt=(0,g.memo)(ut);c();m();var y=w(I());c();m();var C={coin:"_coin_l7ofy_1",icon:"_icon_l7ofy_11",tokenLogo:"_tokenLogo_l7ofy_15",tokenLogoLarger:"_tokenLogoLarger_l7ofy_22",chainLogo:"_chainLogo_l7ofy_29",info:"_info_l7ofy_44",infoTop:"_infoTop_l7ofy_49",infoBottom:"_infoBottom_l7ofy_53"};var pt=({coin:e,onSelect:o,hideChainInfo:t})=>{let{tokenLogoUrl:f,tokenSymbol:u,tokenName:n,chainName:a,chainBWLogoUrl:l,currencyAmount:i,amountNum:p}=e,{symbol:d,usdToThisRate:r}=b(V);return y.default.createElement(L.Box,{className:C.coin,onClick:()=>{o(e)}},y.default.createElement(L.Box,{className:C.icon,style:{width:t?"36px":"32px",height:t?"36px":"32px"}},y.default.createElement(j,{className:t?C.tokenLogoLarger:C.tokenLogo,alt:"coin-icon",errorImg:q,src:f}),!t&&y.default.createElement(j,{className:C.chainLogo,alt:"coin-icon",errorImg:q,src:l,width:16,height:16})),y.default.createElement(L.Box,{className:C.info},y.default.createElement(L.Box,{className:C.infoTop},y.default.createElement(A.Text,{strong:!0},u),y.default.createElement(A.Text,{strong:!0},R(p))),y.default.createElement(L.Box,{className:C.infoBottom},y.default.createElement(A.Text,{style:{fontSize:"12px",color:"#929292"}},t?n:a),y.default.createElement(A.Text,{style:{fontSize:"12px",color:"#929292"}},X(Z(i,r),d)))))},it=pt;c();m();var B={container:"_container_fn37j_1",scrollable:"_scrollable_fn37j_7",drawerClass:"_drawerClass_fn37j_12"};function P({onSelect:e,onBack:o,tabId:t}){let f=v(),{chainList:u,coinList:n,chainId:a,setChainId:l}=ot({tabChainId:t}),i=(0,x.useMemo)(()=>u.findIndex(r=>`${r.chainId}`==`${a}`),[u,a]),p=async r=>{l(r==null?void 0:r.chainId)},d=r=>{e({...r,currentTabId:a}),o()};return x.default.createElement(L.Container,{className:B.container},x.default.createElement(tt,{title:f("swaptrade_top_nav_select_paytoken"),onBack:o,closeable:!1}),u.length>0?x.default.createElement(nt,{chainList:u,activeId:i,onChange:p}):x.default.createElement("div",{style:{height:"44px",width:"100%",flexBasis:"44px",flexShrink:"0"}}),n.length?x.default.createElement(L.Box,{className:B.scrollable},n.map(r=>x.default.createElement(it,{coin:r,key:`${r.chainId}-${r.tokenSymbol}`,onSelect:d,hideChainInfo:a!=="all"}))):x.default.createElement(L.FlexBox,{justify:"center",align:"center",style:{flex:"1"}},x.default.createElement(U.Circle,{size:U.SIZE.xl})))}var So=({visible:e,closeCallback:o,onSelect:t,tabId:f})=>(0,rt.createPortal)(Y.default.createElement(O,{visible:e,onClose:o,placement:O.DIRECTION.right,className:B.drawerClass,maskClassName:B.drawerMaskClass},Y.default.createElement(P,{onSelect:t,onBack:o,tabId:f})),document.querySelector("#app-content"));export{ct as a,So as b};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

