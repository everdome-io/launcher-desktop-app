import{a as le}from"./chunk-R7ZCROU2.js";import"./chunk-AGUPFE3F.js";import{a as ce}from"./chunk-XEXE2SJ2.js";import"./chunk-4VBWXLGM.js";import"./chunk-HU534ALX.js";import{a as ie}from"./chunk-UKDME73C.js";import{a as re}from"./chunk-C2KLOOGK.js";import{a as L}from"./chunk-RYMLTDAH.js";import{a as se}from"./chunk-VNM7HA44.js";import{N as te,P as q}from"./chunk-SBW523XW.js";import"./chunk-NEW56Z2U.js";import{g as ne}from"./chunk-HX34N4W4.js";import"./chunk-F7QJ6WQ5.js";import"./chunk-TNVBYBO5.js";import{qa as P}from"./chunk-KRRNVCWZ.js";import{Ca as U,Hi as $,Ij as Z,Qc as F,de as G,e as S,ee as Q,i as I,ja as V,jd as W,k as C,ke as X,oa as O,rh as Y,wh as R,wj as ee,xi as w,xl as oe}from"./chunk-YC2Z7II3.js";I();C();var e=S(V());var j=S(O());I();C();var n=S(V()),N=S(O());I();C();var ae=n.default.memo(function({getData:d,renderRow:a,itemHeight:t,maxIndex:m,startIndex:g,tolerance:p=2}){let k=(0,n.useRef)(),[i,h]=(0,n.useState)(0),{totalHeight:u,toleranceHeight:r,itemsAbove:x}=(0,n.useMemo)(()=>{let v=m*t,o=p*t,_=Math.max(g-p,0);return{totalHeight:v,itemsAbove:_,toleranceHeight:o}},[t,m,g,p]),[f,D]=(0,n.useState)(x*t),[M,H]=(0,n.useState)(0),[T,A]=(0,n.useState)([]),b=(0,n.useCallback)(({target:{scrollTop:v}})=>{let o=i+2*p,_=Math.floor((v-r)/t),c=d(_,o),E=Math.max(_*t,0),y=Math.max(u-E-c.length*t,0);D(E),H(y),A(c)},[i,p,r,t,d,u]);return(0,n.useEffect)(()=>{let v=Math.ceil(k.current.offsetHeight/t);h(v)},[t]),(0,n.useEffect)(()=>{b({target:{scrollTop:0}})},[b]),n.default.createElement("div",{className:"okwallet-virtual-list-viewport",ref:k,onScroll:b},n.default.createElement("div",{style:{height:f}}),T.map(a),n.default.createElement("div",{style:{height:M}}))});ae.propTypes={getData:N.default.func,renderRow:N.default.func,itemHeight:N.default.number,maxIndex:N.default.number,startIndex:N.default.number,tolerance:N.default.number};var me=ae;I();C();var l=S(V()),J=S(O());var pe=({data:s,onClick:d,searchKeyword:a=""})=>{let t=P(),m=s.aggregation?t("wallet_manage_crypto_labels_crypto_multichain"):s.tokenType;return l.default.createElement("div",{className:"select-coin-item",onClick:d},l.default.createElement(se,{src:s.iconUrl}),l.default.createElement("div",{className:"select-coin-item__content-wrapper"},l.default.createElement("div",{className:"select-coin-item__top-wrapper"},l.default.createElement("div",{className:"select-coin-item__symbol-wrapper"},l.default.createElement("div",{className:"select-coin-item__symbol"},a?l.default.createElement(L,{text:s.symbol,keyword:a}):s.symbol),m&&l.default.createElement("div",{className:"select-coin-item__multi-chain"},m)),l.default.createElement("div",{className:"select-coin-item__amount"},s.amountDisplay)),l.default.createElement("div",{className:"select-coin-item__bottom-wrapper"},l.default.createElement("div",{className:"select-coin-item__name"},s.name),l.default.createElement("div",{className:"select-coin-item__currency"},s.currencyAmountDisplay))))};pe.propTypes={data:J.default.any,onClick:J.default.func};var de=pe;var z=null,ge=()=>{var A,b,v;let[s,d]=(0,e.useState)(!0),a=G(),t=X(),m=P(),[g,p]=(0,e.useState)(""),k=Q(o=>{let _=Y(o);return{address:R(o)[_].account[F]}}),[i,h]=(0,e.useState)({register:!1,status:0,contractAddress:""}),u=((A=t.location.state)==null?void 0:A.isSend)||z===w?"send":"receive";(b=t.location.state)!=null&&b.isReceive&&(u="receive");let{searchCoins:r,searchResultCoins:x}=ce(g,u),f=z||w,D=(v=t.location.state)==null?void 0:v.nextPage;D&&(f=D);let M=le();z=f;let H=(0,e.useCallback)(async o=>{if(!await M(o))return;if(o.baseCoinId===W&&o.coinID!=W){let{register:y,status:K}=await oe({address:k.address,contractAddress:o.address});if(!y){h({register:!y,status:K,contractAddress:o.address});return}}let c=f,E;if(o.children.length>0){let y=o.children.filter(K=>K.currencyAmount>0);y.length>1||c===$?(c=ee,E=`coinKey=${encodeURIComponent(o.key)}`):y.length===1&&c===w&&(c=`${w}/${y[0].coinId}${Z}`)}c===w&&(c=`${w}/${o.coinId}${Z}`),c===$&&(c=`${$}/${o.coinId}`),t.push({pathname:c,search:E,state:{sourcePage:f}})},[f,t]),T=null;return r&&!r.length&&!x.length&&u==="send"&&!g&&!s?T=e.default.createElement("div",{className:"ok-select-coin__empty"},e.default.createElement("img",{src:"/static/images/no-tokens.svg",className:"ok-select-coin__empty-icon"}),e.default.createElement("p",{className:"ok-select-coin__empty-tip"},m("wallet_transfer_maintitle_not_any_token"))):r&&(T=[e.default.createElement(U.Search,{className:"ok-select-coin__search-input",placeholder:m("wallet_transfer_send_select_coin_placeholder_input_name"),size:U.SIZE.md,value:g,onChange:o=>{let _=o.target.value;p(_)}}),e.default.createElement("div",{key:"coin",className:"ok-select-coin__coins"},e.default.createElement(ue,{searchKeyword:g,onItemClick:H,coins:r||[]}))]),(0,e.useEffect)(()=>{s&&a(te()),r&&r.length&&(d(!1),a(q()))},[r==null?void 0:r.length]),(0,e.useEffect)(()=>{setTimeout(()=>{d(!1),a(q())},1e3)},[]),e.default.createElement("div",{className:"ok-select-coin  main-container"},e.default.createElement(ne,{closeable:!1,title:m("wallet_transfer_send_select_coin_maintitle_select_coin")}),e.default.createElement(ie,{customCoin:i,registerDialog:i,onCancel:()=>{h({register:!1,status:0})}}),T)},ue=({coins:s,onItemClick:d,searchKeyword:a})=>{let t=P(),m=(0,e.useCallback)((i,h)=>{let u=Math.max(0,i),r=Math.min(i+h-1,s.length);return u<=r?s.slice(u,r+1).map((x,f)=>({data:x,index:u+f})):[]},[s]),g=(0,e.useCallback)(({data:i})=>e.default.createElement(de,{data:i,searchKeyword:a,key:`${i.name}-${i.key}`,onClick:()=>{d(i)}}),[d]),p="$$",k=(i,h)=>(i===p&&(i=a),h?e.default.createElement("span",{style:{color:"#000"}},i):i);return e.default.createElement(e.default.Fragment,null,s.length?e.default.createElement(me,{getData:m,maxIndex:s.length,startIndex:0,itemHeight:64,tolerance:3,renderRow:g}):e.default.createElement(re,{text:e.default.createElement(L,{text:t("wallet_extension_send_toast_unfoundcrypto",{crypto:p}),keyword:p,customRender:k})}))};ue.propTypes={coins:j.default.array.isRequired,onItemClick:j.default.func.isRequired};var je=ge;export{je as default};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

