import{a as I,b as k}from"./chunk-XUDVUTYB.js";import"./chunk-UKDME73C.js";import"./chunk-TXMRZH72.js";import{a as U}from"./chunk-EQU2E42M.js";import"./chunk-WQMUAJQQ.js";import"./chunk-RYMLTDAH.js";import"./chunk-VNM7HA44.js";import{ga as D,ha as q,ja as H}from"./chunk-SBW523XW.js";import"./chunk-NEW56Z2U.js";import"./chunk-GGV226OL.js";import"./chunk-4DLG5GSZ.js";import{g as G}from"./chunk-HX34N4W4.js";import"./chunk-F7QJ6WQ5.js";import"./chunk-TNVBYBO5.js";import{qa as Y}from"./chunk-KRRNVCWZ.js";import{Ah as O,Ca as S,Vh as E,Yh as M,ce as P,cj as w,e as v,i as c,ja as R,jj as b,k as l,ke as T,na as oo,oa as to}from"./chunk-YC2Z7II3.js";c();l();c();l();c();l();var t=v(R());var d=v(to()),p=v(oo());var x=({cryptoList:a,addCrypto:B,removeCrypto:K,addedCoins:A,getManageAddedCoin:W,isSupportCustomCoin:Z})=>{let y=Y(),L=T(),{popularCoinList:F,allCoin:J}=(0,p.cloneDeep)(a),[s,f]=(0,t.useState)([]),[h,g]=(0,t.useState)([]),[u,N]=(0,t.useState)([]),[C,_]=(0,t.useState)([]),m=()=>{C.length>0&&B(C),u.length>0&&K(u),_([]),N([])},Q=o=>{let r=(0,p.cloneDeep)(h);if(o.coinIndex>=0)return r.concat(o).sort((i,n)=>i.coinIndex-n.coinIndex);o.coinIndex=J.findIndex(i=>i.key===o.key);let e=o.coinIndex;return e===0?r.unshift(o):r.splice(e-1,0,o),r.map((i,n)=>(i.coinIndex=n,i))},V=o=>{if(C.findIndex(n=>n.key===o.key)!==-1)return;let r=C,e=s;r.push(o),e.push(o),s.length!==1?e.forEach(n=>{n.uniquity=!1}):s[0].uniquity=!0,_(r),f(e),N((0,p.remove)(u,n=>n.key===o.key));let i=h.filter(n=>n.key!==o.key);g(i),m()},X=o=>{u.push(o),(0,p.remove)(C,e=>e.key===o.key),_(C),(0,p.remove)(s,e=>e.key===o.key),s.length===1&&(s[0].uniquity=!0),f(s),g(Q(o)),m()};(0,t.useEffect)(()=>((async()=>{let o=await W();o.length===1&&(o[0].uniquity=!0),f(o);let r=(0,p.cloneDeep)(F).map((e,i)=>(e.coinIndex=i,e));g(r.slice(0,100))})(),window.addEventListener("beforeunload",m),()=>{m()}),[]);let $=t.default.createElement("div",{className:"custom-crypto",onClick:()=>{L.push(w)}},t.default.createElement("span",null,y("wallet_manage_crypto_text_custom_crypto")),t.default.createElement("img",{src:"./static/images/nav-global/right-arrow.svg"}));return s.length<=0?t.default.createElement(U,null):t.default.createElement("div",{className:"coin-manage-main main-container"},t.default.createElement(G,{closeable:!1,title:y("wallet_manage_crypto_maintitle_manage_crypto")}),t.default.createElement("div",{className:"coin-manage--body"},Z&&t.default.createElement(t.default.Fragment,null,t.default.createElement(S.Search,{className:"coin-manage-main__search-input",placeholder:y("wallet_manage_crypto_placeholder_search_coin"),size:S.SIZE.md,onClick:()=>{L.push(b)}}),$),t.default.createElement(k,{listData:s,listType:I.MANAGE_COIN_ADDED_CRYPTO,title:!0,disabledRemove:A.length<=1,clickHandle:o=>{A.length>=1&&X(o)}}),t.default.createElement(k,{listData:h,listType:I.MANAGE_COIN_POPULAR_CRYPTO,title:!0,clickHandle:o=>{V(o)}})))};x.propTypes={cryptoList:d.default.object,addCrypto:d.default.func,removeCrypto:d.default.func,addedCoins:d.default.array,getManageAddedCoin:d.default.func,isSupportCustomCoin:d.default.bool};x.defaultProps={cryptoList:{},addCrypto:()=>{},removeCrypto:()=>{},addedCoins:[],getManageAddedCoin:()=>{},isSupportCustomCoin:!1};var z=x;var eo=a=>({cryptoList:M(a),addedCoins:E(a),isSupportCustomCoin:O(a)}),no=()=>({addCrypto(a){D(a)},removeCrypto(a){q(a)},async getManageAddedCoin(){return H()}}),ro=P(eo,no)(z);export{ro as default};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

