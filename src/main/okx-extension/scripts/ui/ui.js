import{k as Ti}from"./chunk-RCRNKUHO.js";import{a as wi,y as yi}from"./chunk-VH6NETQH.js";import{a as vi,f as bi}from"./chunk-JGXQ47HT.js";import{$ as Si,V as _i,W as Ei,a as Qn,d as mi,l as fi,m as hi,n as gi}from"./chunk-J6CXM2QV.js";import{a as di}from"./chunk-PQCWYN5P.js";import"./chunk-UDJV67EY.js";import{a as pi}from"./chunk-MR4ODCLI.js";import{a as mt}from"./chunk-QEYOQJKF.js";import{a as dt}from"./chunk-EFFARY75.js";import{a as li}from"./chunk-FLV5D6IE.js";import{a as ei,o as ti}from"./chunk-ASEXU7Q7.js";import"./chunk-4FE2XZ2T.js";import{a as ri}from"./chunk-OTQZKSNG.js";import{a as Zn}from"./chunk-C2M3YEKK.js";import{c as ai}from"./chunk-QVAYM7Z6.js";import{a as ci}from"./chunk-CJQOMMGE.js";import{b as si}from"./chunk-Q23Y4IDV.js";import{h as ii}from"./chunk-QBRKUY3J.js";import{a as gr}from"./chunk-TYY4MUDF.js";import{a as Jn,c as Xn}from"./chunk-E4GFGIKW.js";import{a as _r}from"./chunk-CWNU34A4.js";import"./chunk-TDVG2NBK.js";import{a as ui}from"./chunk-B5EKMKMH.js";import"./chunk-PETBL2CO.js";import{a as ni}from"./chunk-OVEF54JZ.js";import{Aa as $n,B as Wn,Da as Yn,Ga as Kn,J as Fe,La as zn,Q as Gn,V as Hn,a as fr,b as hr,c as ce,d as pt,ka as qn,ua as jn,va as Bn,za as Vn}from"./chunk-U3HLVTEP.js";import"./chunk-5TVTY5EZ.js";import{a as Ra}from"./chunk-RJTK42A4.js";import{$a as oi,F as La,b as Oa,c as Aa,d as _o,f as ct,g as ut}from"./chunk-XBLB7XW3.js";import{$c as Rr,$d as mo,$h as pn,$i as Mn,A as wa,Ac as dr,B as Xt,Bb as ae,Cc as mr,Cd as Xr,Dc as at,Dd as Zr,Ed as Qr,Ef as lt,Fc as Er,Fd as eo,Gb as Na,Gc as Sr,Gd as to,Gh as Bo,Hb as nr,Hc as Ue,Hh as Vo,Ic as Tr,Ih as $o,Ij as kn,Jc as L,Jh as Yo,Jj as Fn,Ka as ve,Kh as Ko,La as Qt,Lb as ir,Lh as zo,Mb as sr,Mc as be,Mh as Jo,Nc as vr,Nd as ro,Nh as Xo,Oc as I,Oh as Zo,Pc as br,Ph as Qo,Qa as Pa,Qc as wr,Qd as oo,Qh as en,Ra as nt,Rd as no,Re as bo,Rh as tn,Sd as io,Sh as rn,Ta as er,Td as so,Th as on,Uc as yr,Uh as nn,Va as fe,Vh as sn,Wc as Or,Wd as ao,Wh as an,Xc as Ar,Xd as co,Xh as cn,Yc as Cr,Yd as uo,Z as ya,Zc as Pr,Zd as lo,Zh as un,_ as Zt,_c as Nr,_d as po,_f as yo,_h as ln,_i as Dn,aa as ot,ad as Lr,ae as fo,ah as Ao,ai as dn,b as Sa,bc as ar,bd as Ir,be as ho,bh as Co,bi as mn,c as A,cd as xr,ce as go,ch as ke,ci as fn,cj as Un,d as Ta,dd as Dr,dh as Po,di as hn,e as _,ee as Eo,eh as No,ei as gn,f as va,ff as wo,fh as Ro,fi as _n,g as E,ga as k,gc as cr,gd as Mr,gh as Lo,gi as En,h as process,hc as st,he as So,hh as Io,hi as Sn,i,id as Ur,ie as To,ih as xo,ii as Tn,j as l,jc as ur,jd as kr,je as vo,jh as Do,ji as vn,k as s,ka as De,kd as Fr,kh as Mo,ki as bn,la as W,ld as Wr,li as wn,md as Gr,mi as yn,nd as Hr,nh as Uo,ni as On,od as qr,oh as ko,oi as An,pb as tr,pd as jr,ph as Fo,pi as Cn,qb as j,qi as Pn,rb as he,rd as Br,rh as Wo,ri as Nn,sd as Vr,sh as Go,ta as G,td as $r,th as Ho,ub as it,ud as Yr,uh as ge,vc as lr,vd as Kr,vh as qo,vi as Rn,wa as Ca,wb as rr,wh as jo,x as ba,xa as Me,xg as Oo,xi as Ln,y as Jt,yb as z,yc as pr,yd as zr,yi as In,zb as or,zd as Jr,zi as xn}from"./chunk-5YY3VNR7.js";var Ai=A((Tl,Oi)=>{"use strict";i();s();var Ia=wa();Oi.exports=class extends Ia.Duplex{constructor(t){super({objectMode:!0}),this._port=t,this._port.onMessage.addListener(r=>this._onMessage(r)),this._port.onDisconnect.addListener(()=>this._onDisconnect())}_onMessage(t){if(l.Buffer.isBuffer(t)){let r=l.Buffer.from(t);this.push(r)}else this.push(t)}_onDisconnect(){this.destroy()}_read(){}_write(t,r,o){try{if(l.Buffer.isBuffer(t)){let n=t.toJSON();n._isBuffer=!0,this._port.postMessage(n)}else this._port.postMessage(t)}catch{return o(new Error("PortDuplexStream - disconnected"))}return o()}}});var Pi=A((wl,gt)=>{i();s();var Ci=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);Ci?(ft=new Uint8Array(16),gt.exports=function(){return Ci(ft),ft}):(ht=new Array(16),gt.exports=function(){for(var t=0,r;t<16;t++)(t&3)===0&&(r=Math.random()*4294967296),ht[t]=r>>>((t&3)<<3)&255;return ht});var ft,ht});var Li=A((Al,Ri)=>{i();s();var Ni=[];for(we=0;we<256;++we)Ni[we]=(we+256).toString(16).substr(1);var we;function xa(e,t){var r=t||0,o=Ni;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}Ri.exports=xa});var xi=A((Nl,Ii)=>{i();s();var Da=Pi(),Ma=Li();function Ua(e,t,r){var o=t&&r||0;typeof e=="string"&&(t=e==="binary"?new Array(16):null,e=null),e=e||{};var n=e.random||(e.rng||Da)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t)for(var a=0;a<16;++a)t[o+a]=n[a];return t||Ma(n)}Ii.exports=Ua});var Ui=A((Il,Mi)=>{i();s();var Di=Jt().Duplex,ka=ba().inherits,Fa=xi();Mi.exports=Q;ka(Q,Di);function Q(){Di.call(this,{objectMode:!0}),this._payloads={}}Q.prototype.send=function(e){throw new Error('StreamProvider - does not support synchronous RPC calls. called: "'+e.method+'"')};Q.prototype.sendAsync=function(e,t){let r=e.id,o=Fa();if(e.id=o,Array.isArray(e)&&e.length===0)return t(null,[]);this._payloads[o]=[t,r],this.push(e)};Q.prototype.isConnected=function(){return!0};Q.prototype._onResponse=function(e){let t=e.id,r=this._payloads[t];if(!r)throw new Error(`StreamProvider - Unknown response id for response: ${e}`);delete this._payloads[t];let o=r[0];e.id=r[1],setTimeout(function(){o(null,e)})};Q.prototype._read=Wa;Q.prototype._write=function(e,t,r){this._onResponse(e),r()};function Wa(){}});var Cs=A((zg,As)=>{i();s();As.exports=Os;function Os(e,t){if(e&&t)return Os(e)(t);if(typeof e!="function")throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(o){r[o]=e[o]}),r;function r(){for(var o=new Array(arguments.length),n=0;n<o.length;n++)o[n]=arguments[n];var a=e.apply(this,o),u=o[o.length-1];return typeof a=="function"&&a!==u&&Object.keys(u).forEach(function(p){a[p]=u[p]}),a}}});var ze=A((Zg,Ut)=>{i();s();var Ps=Cs();Ut.exports=Ps(Ke);Ut.exports.strict=Ps(Ns);Ke.proto=Ke(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Ke(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return Ns(this)},configurable:!0})});function Ke(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function Ns(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}});var kt=A((t_,Ls)=>{i();s();var Wu=ze(),Gu=function(){},Hu=function(e){return e.setHeader&&typeof e.abort=="function"},qu=function(e){return e.stdio&&Array.isArray(e.stdio)&&e.stdio.length===3},Rs=function(e,t,r){if(typeof t=="function")return Rs(e,null,t);t||(t={}),r=Wu(r||Gu);var o=e._writableState,n=e._readableState,a=t.readable||t.readable!==!1&&e.readable,u=t.writable||t.writable!==!1&&e.writable,p=!1,g=function(){e.writable||S()},S=function(){u=!1,a||r.call(e)},y=function(){a=!1,u||r.call(e)},D=function(f){r.call(e,f?new Error("exited with error code: "+f):null)},v=function(f){r.call(e,f)},b=function(){process.nextTick(ne)},ne=function(){if(!p){if(a&&!(n&&n.ended&&!n.destroyed))return r.call(e,new Error("premature close"));if(u&&!(o&&o.ended&&!o.destroyed))return r.call(e,new Error("premature close"))}},d=function(){e.req.on("finish",S)};return Hu(e)?(e.on("complete",S),e.on("abort",b),e.req?d():e.on("request",d)):u&&!o&&(e.on("end",g),e.on("close",g)),qu(e)&&e.on("exit",D),e.on("end",y),e.on("finish",S),t.error!==!1&&e.on("error",v),e.on("close",b),function(){p=!0,e.removeListener("complete",S),e.removeListener("abort",b),e.removeListener("request",d),e.req&&e.req.removeListener("finish",S),e.removeListener("end",g),e.removeListener("close",g),e.removeListener("finish",S),e.removeListener("exit",D),e.removeListener("end",y),e.removeListener("error",v),e.removeListener("close",b)}};Ls.exports=Rs});var Us=A((n_,Ms)=>{i();s();var{Duplex:Ds}=Jt(),Is=kt(),ju=ze(),xs={},Ft=class extends Ds{constructor(t={}){let r=Object.assign({},t,{objectMode:!0});super(r),this._substreams={}}createStream(t){if(!t)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[t])throw new Error('ObjectMultiplex - Substream for name "${name}" already exists');let r=new Wt({parent:this,name:t});return this._substreams[t]=r,Bu(this,o=>{r.destroy(o)}),r}ignoreStream(t){if(!t)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[t])throw new Error('ObjectMultiplex - Substream for name "${name}" already exists');this._substreams[t]=xs}_read(){}_write(t,r,o){let n=t.name,a=t.data;if(!n)return console.warn(`ObjectMultiplex - malformed chunk without name "${t}"`),o();let u=this._substreams[n];if(!u)return console.warn(`ObjectMultiplex - orphaned data for stream "${n}"`),o();u!==xs&&u.push(a),o()}},Wt=class extends Ds{constructor({parent:t,name:r}){super({objectMode:!0}),this._parent=t,this._name=r}_read(){}_write(t,r,o){this._parent.push({name:this._name,data:t}),o()}};Ms.exports=Ft;function Bu(e,t){let r=ju(t);Is(e,{readable:!1},r),Is(e,{writable:!1},r)}});var ks={};Ta(ks,{default:()=>Vu});var Vu,Fs=Sa(()=>{i();s();Vu={}});var Ws=A((u_,Je)=>{i();s();var de=(Fs(),va(ks));if(de&&de.default){Je.exports=de.default;for(let e in de)Je.exports[e]=de[e]}else de&&(Je.exports=de)});var qs=A((d_,Hs)=>{i();s();var $u=ze(),Yu=kt(),Gt=Ws(),Re=function(){},Ku=/^v?\.0/.test(process.version),Xe=function(e){return typeof e=="function"},zu=function(e){return!Ku||!Gt?!1:(e instanceof(Gt.ReadStream||Re)||e instanceof(Gt.WriteStream||Re))&&Xe(e.close)},Ju=function(e){return e.setHeader&&Xe(e.abort)},Xu=function(e,t,r,o){o=$u(o);var n=!1;e.on("close",function(){n=!0}),Yu(e,{readable:t,writable:r},function(u){if(u)return o(u);n=!0,o()});var a=!1;return function(u){if(!n&&!a){if(a=!0,zu(e))return e.close(Re);if(Ju(e))return e.abort();if(Xe(e.destroy))return e.destroy();o(u||new Error("stream was destroyed"))}}},Gs=function(e){e()},Zu=function(e,t){return e.pipe(t)},Qu=function(){var e=Array.prototype.slice.call(arguments),t=Xe(e[e.length-1]||Re)&&e.pop()||Re;if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Error("pump requires two streams per minimum");var r,o=e.map(function(n,a){var u=a<e.length-1,p=a>0;return Xu(n,u,p,function(g){r||(r=g),g&&o.forEach(Gs),!u&&(o.forEach(Gs),t(r))})});return e.reduce(Zu)};Hs.exports=Qu});var zs=A((E_,Ks)=>{i();s();Ks.exports=Le;Le.default=Le;Le.stable=$s;Le.stableStringify=$s;var X=[],oe=[];function Le(e,t,r){Ht(e,"",[],void 0);var o;for(oe.length===0?o=JSON.stringify(e,t,r):o=JSON.stringify(e,Ys(t),r);X.length!==0;){var n=X.pop();n.length===4?Object.defineProperty(n[0],n[1],n[3]):n[0][n[1]]=n[2]}return o}function Ht(e,t,r,o){var n;if(typeof e=="object"&&e!==null){for(n=0;n<r.length;n++)if(r[n]===e){var a=Object.getOwnPropertyDescriptor(o,t);a.get!==void 0?a.configurable?(Object.defineProperty(o,t,{value:"[Circular]"}),X.push([o,t,e,a])):oe.push([e,t]):(o[t]="[Circular]",X.push([o,t,e]));return}if(r.push(e),Array.isArray(e))for(n=0;n<e.length;n++)Ht(e[n],n,r,e);else{var u=Object.keys(e);for(n=0;n<u.length;n++){var p=u[n];Ht(e[p],p,r,e)}}r.pop()}}function el(e,t){return e<t?-1:e>t?1:0}function $s(e,t,r){var o=qt(e,"",[],void 0)||e,n;for(oe.length===0?n=JSON.stringify(o,t,r):n=JSON.stringify(o,Ys(t),r);X.length!==0;){var a=X.pop();a.length===4?Object.defineProperty(a[0],a[1],a[3]):a[0][a[1]]=a[2]}return n}function qt(e,t,r,o){var n;if(typeof e=="object"&&e!==null){for(n=0;n<r.length;n++)if(r[n]===e){var a=Object.getOwnPropertyDescriptor(o,t);a.get!==void 0?a.configurable?(Object.defineProperty(o,t,{value:"[Circular]"}),X.push([o,t,e,a])):oe.push([e,t]):(o[t]="[Circular]",X.push([o,t,e]));return}if(typeof e.toJSON=="function")return;if(r.push(e),Array.isArray(e))for(n=0;n<e.length;n++)qt(e[n],n,r,e);else{var u={},p=Object.keys(e).sort(el);for(n=0;n<p.length;n++){var g=p[n];qt(e[g],g,r,e),u[g]=e[g]}if(o!==void 0)X.push([o,t,e]),o[t]=u;else return u}r.pop()}}function Ys(e){return e=e!==void 0?e:function(t,r){return r},function(t,r){if(oe.length>0)for(var o=0;o<oe.length;o++){var n=oe[o];if(n[1]===t&&n[0]===r){r="[Circular]",oe.splice(o,1);break}}return e.call(this,t,r)}}});var Qe=A(Se=>{"use strict";i();s();Object.defineProperty(Se,"__esModule",{value:!0});Se.EthereumProviderError=Se.EthereumRpcError=void 0;var tl=zs(),Ze=class extends Error{constructor(t,r,o){if(!Number.isInteger(t))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=t,o!==void 0&&(this.data=o)}serialize(){let t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data),this.stack&&(t.stack=this.stack),t}toString(){return tl.default(this.serialize(),ol,2)}};Se.EthereumRpcError=Ze;var jt=class extends Ze{constructor(t,r,o){if(!rl(t))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(t,r,o)}};Se.EthereumProviderError=jt;function rl(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}function ol(e,t){if(t!=="[Circular]")return t}});var et=A(Te=>{"use strict";i();s();Object.defineProperty(Te,"__esModule",{value:!0});Te.errorValues=Te.errorCodes=void 0;Te.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};Te.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}});var $t=A(B=>{"use strict";i();s();Object.defineProperty(B,"__esModule",{value:!0});B.serializeError=B.isValidCode=B.getMessageFromCode=B.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;var tt=et(),nl=Qe(),Js=tt.errorCodes.rpc.internal,il="Unspecified error message. This is a bug, please report it.",sl={code:Js,message:Vt(Js)};B.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function Vt(e,t=il){if(Number.isInteger(e)){let r=e.toString();if(Bt(tt.errorValues,r))return tt.errorValues[r].message;if(Qs(e))return B.JSON_RPC_SERVER_ERROR_MESSAGE}return t}B.getMessageFromCode=Vt;function Zs(e){if(!Number.isInteger(e))return!1;let t=e.toString();return!!(tt.errorValues[t]||Qs(e))}B.isValidCode=Zs;function al(e,{fallbackError:t=sl,shouldIncludeStack:r=!1}={}){var o,n;if(!t||!Number.isInteger(t.code)||typeof t.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(e instanceof nl.EthereumRpcError)return e.serialize();let a={};if(e&&typeof e=="object"&&!Array.isArray(e)&&Bt(e,"code")&&Zs(e.code)){let p=e;a.code=p.code,p.message&&typeof p.message=="string"?(a.message=p.message,Bt(p,"data")&&(a.data=p.data)):(a.message=Vt(a.code),a.data={originalError:Xs(e)})}else{a.code=t.code;let p=(o=e)===null||o===void 0?void 0:o.message;a.message=p&&typeof p=="string"?p:t.message,a.data={originalError:Xs(e)}}let u=(n=e)===null||n===void 0?void 0:n.stack;return r&&e&&u&&typeof u=="string"&&(a.stack=u),a}B.serializeError=al;function Qs(e){return e>=-32099&&e<=-32e3}function Xs(e){return e&&typeof e=="object"&&!Array.isArray(e)?Object.assign({},e):e}function Bt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}});var ra=A(rt=>{"use strict";i();s();Object.defineProperty(rt,"__esModule",{value:!0});rt.ethErrors=void 0;var Yt=Qe(),ea=$t(),P=et();rt.ethErrors={rpc:{parse:e=>q(P.errorCodes.rpc.parse,e),invalidRequest:e=>q(P.errorCodes.rpc.invalidRequest,e),invalidParams:e=>q(P.errorCodes.rpc.invalidParams,e),methodNotFound:e=>q(P.errorCodes.rpc.methodNotFound,e),internal:e=>q(P.errorCodes.rpc.internal,e),server:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("RPC Server errors must provide single object argument.");let{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return q(t,e)},invalidInput:e=>q(P.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>q(P.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>q(P.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>q(P.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>q(P.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>q(P.errorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>Ie(P.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>Ie(P.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>Ie(P.errorCodes.provider.unsupportedMethod,e),disconnected:e=>Ie(P.errorCodes.provider.disconnected,e),chainDisconnected:e=>Ie(P.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Provider custom errors must provide single object argument.");let{code:t,message:r,data:o}=e;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new Yt.EthereumProviderError(t,r,o)}}};function q(e,t){let[r,o]=ta(t);return new Yt.EthereumRpcError(e,r||ea.getMessageFromCode(e),o)}function Ie(e,t){let[r,o]=ta(t);return new Yt.EthereumProviderError(e,r||ea.getMessageFromCode(e),o)}function ta(e){if(e){if(typeof e=="string")return[e];if(typeof e=="object"&&!Array.isArray(e)){let{message:t,data:r}=e;if(t&&typeof t!="string")throw new Error("Must specify string message.");return[t||void 0,r]}}return[]}});var ia=A(x=>{"use strict";i();s();Object.defineProperty(x,"__esModule",{value:!0});x.getMessageFromCode=x.serializeError=x.EthereumProviderError=x.EthereumRpcError=x.ethErrors=x.errorCodes=void 0;var oa=Qe();Object.defineProperty(x,"EthereumRpcError",{enumerable:!0,get:function(){return oa.EthereumRpcError}});Object.defineProperty(x,"EthereumProviderError",{enumerable:!0,get:function(){return oa.EthereumProviderError}});var na=$t();Object.defineProperty(x,"serializeError",{enumerable:!0,get:function(){return na.serializeError}});Object.defineProperty(x,"getMessageFromCode",{enumerable:!0,get:function(){return na.getMessageFromCode}});var cl=ra();Object.defineProperty(x,"ethErrors",{enumerable:!0,get:function(){return cl.ethErrors}});var ul=et();Object.defineProperty(x,"errorCodes",{enumerable:!0,get:function(){return ul.errorCodes}})});i();s();i();s();(function(e){typeof define=="function"&&define.amd?define(e):e()})(function(){"use strict";function e(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}function t(d,f){for(var h=0;h<f.length;h++){var T=f[h];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(d,T.key,T)}}function r(d,f,h){return f&&t(d.prototype,f),h&&t(d,h),d}function o(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(f&&f.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),f&&a(d,f)}function n(d){return n=Object.setPrototypeOf?Object.getPrototypeOf:function(h){return h.__proto__||Object.getPrototypeOf(h)},n(d)}function a(d,f){return a=Object.setPrototypeOf||function(T,R){return T.__proto__=R,T},a(d,f)}function u(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}function p(d,f){return f&&(typeof f=="object"||typeof f=="function")?f:u(d)}function g(d,f){for(;!Object.prototype.hasOwnProperty.call(d,f)&&(d=n(d),d!==null););return d}function S(d,f,h){return typeof Reflect<"u"&&Reflect.get?S=Reflect.get:S=function(R,F,V){var ie=g(R,F);if(!!ie){var M=Object.getOwnPropertyDescriptor(ie,F);return M.get?M.get.call(V):M.value}},S(d,f,h||d)}var y=function(){function d(){e(this,d),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return r(d,[{key:"addEventListener",value:function(h,T){h in this.listeners||(this.listeners[h]=[]),this.listeners[h].push(T)}},{key:"removeEventListener",value:function(h,T){if(h in this.listeners){for(var R=this.listeners[h],F=0,V=R.length;F<V;F++)if(R[F]===T){R.splice(F,1);return}}}},{key:"dispatchEvent",value:function(h){var T=this;if(h.type in this.listeners){for(var R=function(xe){setTimeout(function(){return xe.call(T,h)})},F=this.listeners[h.type],V=0,ie=F.length;V<ie;V++)R(F[V]);return!h.defaultPrevented}}}]),d}(),D=function(d){o(f,d);function f(){var h;return e(this,f),h=p(this,n(f).call(this)),h.listeners||y.call(u(h)),Object.defineProperty(u(h),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(u(h),"onabort",{value:null,writable:!0,configurable:!0}),h}return r(f,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(T){T.type==="abort"&&(this.aborted=!0,typeof this.onabort=="function"&&this.onabort.call(this,T)),S(n(f.prototype),"dispatchEvent",this).call(this,T)}}]),f}(y),v=function(){function d(){e(this,d),Object.defineProperty(this,"signal",{value:new D,writable:!0,configurable:!0})}return r(d,[{key:"abort",value:function(){var h;try{h=new Event("abort")}catch{typeof document<"u"?document.createEvent?(h=document.createEvent("Event"),h.initEvent("abort",!1,!1)):(h=document.createEventObject(),h.type="abort"):h={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(h)}},{key:"toString",value:function(){return"[object AbortController]"}}]),d}();typeof Symbol<"u"&&Symbol.toStringTag&&(v.prototype[Symbol.toStringTag]="AbortController",D.prototype[Symbol.toStringTag]="AbortSignal");function b(d){return d.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):typeof d.Request=="function"&&!d.Request.prototype.hasOwnProperty("signal")||!d.AbortController}function ne(d){typeof d=="function"&&(d={fetch:d});var f=d,h=f.fetch,T=f.Request,R=T===void 0?h.Request:T,F=f.AbortController,V=f.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,ie=V===void 0?!1:V;if(!b({fetch:h,Request:R,AbortController:F,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:ie}))return{fetch:h,Request:M};var M=R;(M&&!M.prototype.hasOwnProperty("signal")||ie)&&(M=function(me,U){var se;U&&U.signal&&(se=U.signal,delete U.signal);var Z=new R(me,U);return se&&Object.defineProperty(Z,"signal",{writable:!1,enumerable:!1,configurable:!0,value:se}),Z},M.prototype=R.prototype);var xe=h,fa=function(me,U){var se=M&&M.prototype.isPrototypeOf(me)?me.signal:U?U.signal:void 0;if(se){var Z;try{Z=new DOMException("Aborted","AbortError")}catch{Z=new Error("Aborted"),Z.name="AbortError"}if(se.aborted)return Promise.reject(Z);var ga=new Promise(function(_a,Ea){se.addEventListener("abort",function(){return Ea(Z)},{once:!0})});return U&&U.signal&&delete U.signal,Promise.race([ga,xe(me,U)])}return xe(me,U)};return{fetch:fa,Request:M}}(function(d){if(!!b(d)){if(!d.fetch){console.warn("fetch() is not available, cannot install abortcontroller-polyfill");return}var f=ne(d),h=f.fetch,T=f.Request;d.fetch=h,d.Request=T,Object.defineProperty(d,"AbortController",{writable:!0,enumerable:!1,configurable:!0,value:v}),Object.defineProperty(d,"AbortSignal",{writable:!0,enumerable:!1,configurable:!0,value:D})}})(typeof self<"u"?self:globalThis)});var ua=_(Ai()),zt=_(Xt()),la=_(ya()),pa=_(Oa()),da=_(Ui()),ma=_(Zt());i();s();i();s();var Ga=ot()?()=>{}:()=>document.body,Ul=ot()?void 0:window.getComputedStyle;i();s();i();s();i();s();i();s();var Es=_(Aa()),Ss=_(Zt()),Ts=_(De());var vs=_(k()),bs=_(Ca()),ws=_(Pa());i();s();var ki=_(Na()),ee=_(De());var qa=({appBaseChain:e,baseChain:t,chain:r,chainName:o,coinId:n,coinType:a,netWorkId:u})=>o?(0,ee.isUndefined)(ki.Currency[a])?(console.error(`coinType: ${a} is not validate`),!1):Object.values(ar).includes(e)?(0,ee.isNumber)(n)?t?(0,ee.isNil)(u)?(console.error(`netWorkId: ${u} is not validate`),!1):r?!0:(console.error(`chain: ${r} is not validate`),!1):(console.error(`baseChain: ${t} is not validate`),!1):(console.error(`coinId: ${n} is not a number`),!1):(console.error(`chainName: ${o} appBaseChain: ${e} is not validate`),!1):(console.error(`chainName: ${o} is not validate`),!1),Fi=(e,t)=>{if(!e||!e.length)return console.warn("Not Update. New chain not validate"),!1;let r=!1,o=e.filter(n=>{var a,u;return((a=n==null?void 0:n.factionInfo)==null?void 0:a.factionType)===ir||((u=n==null?void 0:n.factionInfo)==null?void 0:u.factionType)===sr}).filter(qa);return!o.length||!o.find(n=>n.chain===nr)?(console.warn("Not Update. eth mainnet not exist"),!1):o.length!==t.length?(console.warn(`Update. New validate chainList amount ${o.length}  is different from ${t.length}`),!0):(o.forEach(n=>{let a=t.find(u=>u.coinId===n.coinId);a||(console.warn(`new chain: ${n.chainName}`),r=!0),(0,ee.isEqual)(n,a)||(console.warn(`Something different need update. new chain: ${JSON.stringify(n)}, old chain: ${JSON.stringify(a)}`),r=!0)}),console.warn(`need update: ${r}`),r)};i();s();var H=_(k()),as=_(W());i();s();i();s();var O=_(k()),_t=_(W());var ye=class extends O.PureComponent{renderErrorDetail(t){return O.default.createElement("li",null,O.default.createElement("p",null,t))}renderErrorStack(t,r){return O.default.createElement("li",null,O.default.createElement("span",null,t),O.default.createElement("pre",{className:"error-page__stack"},r))}render(){let{error:t}=this.props,{t:r}=this.context,o=z()===he,n=r(o?"wallet_home_subtitle_errortip_error_popup_message":"wallet_home_subtitle_errortip_errorpage_message");return O.default.createElement("section",{className:"error-page"},O.default.createElement("div",{className:"error-page__header"},r("wallet_home_maintitle_errortip_error_page_title"),window.location.hash&&O.default.createElement("img",{alt:"",className:"error-page__right",src:"/static/images/ok-navigator-close.svg",onClick:async()=>{await fe().clearDappData(),window.location.href=window.location.pathname}})),O.default.createElement("section",{className:"error-page__details"},O.default.createElement("img",{className:"error-page__image",src:"./static/images/error.jpg",alt:""}),O.default.createElement("div",{className:"error-page__title"},n),O.default.createElement("div",{className:"error-page__text"},O.default.createElement("details",null,O.default.createElement("summary",null,r("wallet_home_subtitle_errortip_errordetail")),O.default.createElement("ul",null,t.message?this.renderErrorDetail(r("wallet_home_subtitle_errortip_errormessage",{errorMessage:t.message})):null,t.code?this.renderErrorDetail(r("wallet_home_subtitle_errortip_errorcode",{errorCode:t.code})):null,t.name?this.renderErrorDetail(r("wallet_home_subtitle_errortip_errorname",{errorName:t.name})):null,t.stack?this.renderErrorStack(r("wallet_home_subtitle_errortip_error_stack"),t.stack):null))),window.location.hash&&O.default.createElement("div",{className:"error-page__button"},O.default.createElement(G,{block:!0,onClick:async()=>{await fe().clearDappData(),window.location.href=window.location.pathname},className:"error-page__button",type:G.TYPE.highlight},r("wallet_extension_btn_cancel")))))}};E(ye,"contextTypes",{t:_t.default.func.isRequired}),E(ye,"propTypes",{error:_t.default.object.isRequired});var Et=ye;i();s();i();s();i();s();var is=_(Ra()),N=_(W()),c=_(k());i();s();var Hi=_(k()),C=_(W()),ja=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ba=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Va=function(){function e(t,r){for(var o=0;o<r.length;o++){var n=r[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),$a=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},Ya=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t},St=(typeof window>"u"||typeof window>"u"?"undefined":ja(window))==="object",Ka=St?document:{},za=["mousemove","keydown","wheel","DOMMouseScroll","mouseWheel","mousedown","touchstart","touchmove","MSPointerDown","MSPointerMove"],Tt=function(e){function t(r){Ba(this,t);var o=Ya(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r));if(o.state={idle:!1,oldDate:+new Date,lastActive:+new Date,remaining:null,pageX:null,pageY:null},o.tId=null,o._handleEvent=function(n){var a=o.state,u=a.remaining,p=a.pageX,g=a.pageY,S=a.idle,y=o.props,D=y.timeout,v=y.onAction,b=y.debounce,ne=y.throttle,d=y.stopOnIdle;if(b>0?o.debouncedAction(n):ne>0?o.throttledAction(n):v(n),!u){if(n.type==="mousemove"&&(n.pageX===p&&n.pageY===g||n.pageX===void 0&&n.pageY===void 0||o.getElapsedTime()<200))return;clearTimeout(o.tId),o.tId=null,S&&!d&&o.toggleIdleState(n),o.setState({lastActive:+new Date,pageX:n.pageX,pageY:n.pageY}),S&&d||(o.tId=setTimeout(o.toggleIdleState,D))}},r.debounce>0&&r.throttle>0)throw new Error("onAction can either be throttled or debounced (not both)");return r.debounce>0&&(o.debouncedAction=Wi(r.onAction,r.debounce)),r.throttle>0&&(o.throttledAction=Gi(r.onAction,r.throttle)),r.startOnMount||(o.state.idle=!0),o.toggleIdleState=o._toggleIdleState.bind(o),o.reset=o._reset.bind(o),o.pause=o._pause.bind(o),o.resume=o._resume.bind(o),o.getRemainingTime=o._getRemainingTime.bind(o),o.getElapsedTime=o._getElapsedTime.bind(o),o.getLastActiveTime=o._getLastActiveTime.bind(o),o.isIdle=o._isIdle.bind(o),o}return $a(t,Hi.Component),Va(t,[{key:"componentWillMount",value:function(){this._bindEvents()}},{key:"componentDidMount",value:function(){this.props.startOnMount&&this.reset()}},{key:"componentDidUpdate",value:function(r){r.debounce!==this.props.debounce&&(this.debouncedAction=Wi(this.props.onAction,this.props.debounce)),r.throttle!==this.props.throttle&&(this.throttledAction=Gi(this.props.onAction,this.props.throttle))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.tId),this._unbindEvents()}},{key:"render",value:function(){return this.props.children||null}},{key:"_bindEvents",value:function(){var r=this;if(St){var o=this.state.eventsBound,n=this.props,a=n.element,u=n.events,p=n.passive,g=n.capture;o||(u.forEach(function(S){a.addEventListener(S,r._handleEvent,{capture:g,passive:p})}),this.setState({eventsBound:!0}))}}},{key:"_unbindEvents",value:function(){var r=this;if(St){var o=this.props,n=o.element,a=o.events,u=o.passive,p=o.capture;this.state.eventsBound&&(a.forEach(function(g){n.removeEventListener(g,r._handleEvent,{capture:p,passive:u})}),this.setState({eventsBound:!1}))}}},{key:"_toggleIdleState",value:function(r){var o=this,n=this.state.idle,a=this.props,u=a.onActive,p=a.onIdle,g=a.stopOnIdle;this.setState({idle:!n},function(){n?g||(o._bindEvents(),u(r)):(g&&(clearTimeout(o.tId),o.tId=null,o._unbindEvents()),p(r))})}},{key:"_reset",value:function(){clearTimeout(this.tId),this.tId=null,this._bindEvents(),this.setState({idle:!1,oldDate:+new Date,lastActive:this.state.oldDate,remaining:null});var r=this.props.timeout;this.tId=setTimeout(this.toggleIdleState,r)}},{key:"_pause",value:function(){this.state.remaining===null&&(this._unbindEvents(),clearTimeout(this.tId),this.tId=null,this.setState({remaining:this.getRemainingTime()}))}},{key:"_resume",value:function(){var r=this.state,o=r.remaining,n=r.idle;o!==null&&(this._bindEvents(),n||(this.setState({remaining:null}),this.tId=setTimeout(this.toggleIdleState,o)))}},{key:"_getRemainingTime",value:function(){var r=this.state,o=r.remaining,n=r.idle,a=r.lastActive;if(n)return 0;if(o!==null)return o;var u=this.props.timeout-(+new Date-a);return u<0&&(u=0),u}},{key:"_getElapsedTime",value:function(){var r=this.state.oldDate;return+new Date-r}},{key:"_getLastActiveTime",value:function(){return this.state.lastActive}},{key:"_isIdle",value:function(){return this.state.idle}}]),t}();function Wi(e,t){var r=void 0;return function(){for(var o=arguments.length,n=Array(o),a=0;a<o;a++)n[a]=arguments[a];r&&clearTimeout(r),r=setTimeout(function(){e.apply(void 0,n),r=null},t)}}function Gi(e,t){var r=0;return function(){var o=new Date().getTime();if(!(o-r<t))return r=o,e.apply(void 0,arguments)}}Tt.propTypes={timeout:C.default.number,events:C.default.arrayOf(C.default.string),onIdle:C.default.func,onActive:C.default.func,onAction:C.default.func,debounce:C.default.number,throttle:C.default.number,element:C.default.oneOfType([C.default.object,C.default.element]),startOnMount:C.default.bool,stopOnIdle:C.default.bool,passive:C.default.bool,capture:C.default.bool},Tt.defaultProps={timeout:12e5,element:Ka,events:za,onIdle:function(){},onActive:function(){},onAction:function(){},debounce:0,throttle:0,startOnMount:!0,stopOnIdle:!1,capture:!0,passive:!0};var qi=Tt;var ss=_(De());i();s();i();s();i();s();var We=_(k()),vt=_(W());function Ge(e){let{isUnlocked:t,completedOnboarding:r}=e;switch(!0){case(t&&r):return We.default.createElement(I,{...e});case!r:return We.default.createElement(be,{to:{pathname:ge}});default:return We.default.createElement(be,{to:{pathname:ke}})}}Ge.propTypes={isUnlocked:vt.default.bool,completedOnboarding:vt.default.bool};var Ja=e=>{let{metamask:{isUnlocked:t,completedOnboarding:r}}=e;return{isUnlocked:t,completedOnboarding:r}},m=L(Ja)(Ge);i();s();i();s();i();s();var bt=_(k()),ji=_(W());function He(e){return e.completedOnboarding?bt.default.createElement(I,{...e}):bt.default.createElement(be,{to:{pathname:ge}})}He.propTypes={completedOnboarding:ji.default.bool};var Xa=e=>{let{metamask:{completedOnboarding:t}}=e;return{completedOnboarding:t}},qe=L(Xa)(He);i();s();i();s();i();s();var te=_(k()),je=_(W());i();s();i();s();var Bi=_(k()),wt=_(W());i();s();var Vi=({className:e="",color:t="#000000"})=>Bi.default.createElement("div",{className:`spinner ${e}`});Vi.propTypes={className:wt.default.string,color:wt.default.string};var $i=Vi;var Yi=$i;i();s();var J=class extends te.PureComponent{render(){return te.default.createElement("div",{className:"loading-network-screen"},te.default.createElement("div",{className:"loading-network-screen__container"},te.default.createElement("div",{className:"loading-network-screen__close",onClick:this.props.close}),te.default.createElement(Yi,{className:"loading-network-screen__spinner"}),te.default.createElement("div",{className:"loading-network-screen__connect"},this.props.loadingMessage)))}};E(J,"contextTypes",{t:je.default.func}),E(J,"propTypes",{loadingMessage:je.default.string,close:je.default.func});var Za=e=>({close:()=>{e(Gn())}}),yt=L(null,Za)(J);i();s();i();s();var Pe=_(W()),Ee=_(k());i();s();var Qa=()=>window.matchMedia("screen and (max-width: 575px)").matches,zi=Qa;i();s();var ue=_(k()),K=_(W());var ec=0,$,tc=e=>($||($=document.createElement("style"),document.getElementsByTagName("head")[0].appendChild($),$=$.sheet||$.styleSheet),$.insertRule(e,($.cssRules||$.rules).length),$),Be=e=>{let t=`anim_${++ec}${Number(new Date)}`,r=`@keyframes ${t} {`;return Object.keys(e).forEach(o=>{r+=`${o} {`,Object.keys(e[o]).forEach(n=>{let a=`:${e[o][n]};`;r+=n+a}),r+="}"}),r+="}",tc(r),t},Y={show:{animationDuration:"0.3s",animationTimingFunction:"ease-out"},hide:{animationDuration:"0.3s",animationTimingFunction:"ease-out"},showContentAnimation:Be({"0%":{opacity:0},"100%":{opacity:1}}),hideContentAnimation:Be({"0%":{opacity:1},"100%":{opacity:0}}),showBackdropAnimation:Be({"0%":{opacity:0},"100%":{opacity:.9}}),hideBackdropAnimation:Be({"0%":{opacity:.9},"100%":{opacity:0}})},Ve=["transitionend","animationend"];function rc(e,t,r){e.addEventListener(t,r,!1)}function oc(e,t,r){e.removeEventListener(t,r,!1)}var nc=(e,t)=>{Ve.length!==0&&Ve.forEach(function(r){oc(e,r,t)})},ic=(e,t)=>{if(Ve.length===0){window.setTimeout(t,0);return}Ve.forEach(function(r){rc(e,r,t)})},Oe=class extends ue.Component{constructor(){super(...arguments);E(this,"content",null);E(this,"state",{willHide:!0,hidden:!0});E(this,"addTransitionListener",(r,o)=>{if(r){let n=function(a){a&&a.target!==r||(nc(r,n),o())};ic(r,n)}});E(this,"handleBackdropClick",()=>{this.props.closeOnClick&&this.hide()});E(this,"hasHidden",()=>this.state.hidden);E(this,"leave",()=>{this.setState({hidden:!0}),this.props.onHide(this.state.hideSource)});E(this,"enter",()=>{this.props.onShow()});E(this,"show",()=>{!this.state.hidden||(this.setState({willHide:!1,hidden:!1}),setTimeout(function(){this.addTransitionListener(this.content,this.enter)}.bind(this),0))});E(this,"hide",()=>{this.hasHidden()||this.setState({willHide:!0})});E(this,"listenKeyboard",r=>{typeof this.props.keyboard=="function"?this.props.keyboard(r):this.closeOnEsc(r)});E(this,"closeOnEsc",r=>{this.props.keyboard&&(r.key==="Escape"||r.keyCode===27)&&this.hide()});E(this,"UNSAFE_componentDidMount",()=>{window.addEventListener("keydown",this.listenKeyboard,!0)});E(this,"UNSAFE_componentWillUnmount",()=>{window.removeEventListener("keydown",this.listenKeyboard,!0)})}render(){if(this.state.hidden)return null;let{willHide:r}=this.state,{modalStyle:o}=this.props,n={animationName:r?Y.hideBackdropAnimation:Y.showBackdropAnimation,animationTimingFunction:(r?Y.hide:Y.show).animationTimingFunction,...this.props.backdropStyle},a={animationDuration:(r?Y.hide:Y.show).animationDuration,animationName:r?Y.hideContentAnimation:Y.showContentAnimation,animationTimingFunction:(r?Y.hide:Y.show).animationTimingFunction,...this.props.contentStyle},u=this.props.backdrop?ue.default.createElement("div",{className:"modal__backdrop",style:n,onClick:this.props.closeOnClick?this.handleBackdropClick:null}):void 0;return r&&this.addTransitionListener(this.content,this.leave),ue.default.createElement("span",null,ue.default.createElement("div",{className:"modal",style:o},ue.default.createElement("div",{className:"modal__content",ref:p=>this.content=p,tabIndex:"-1",style:a},this.props.children)),u)}};E(Oe,"propTypes",{backdrop:K.default.bool,backdropStyle:K.default.object,closeOnClick:K.default.bool,contentStyle:K.default.object,keyboard:K.default.bool,modalStyle:K.default.object,onShow:K.default.func,onHide:K.default.func,children:K.default.node}),E(Oe,"defaultProps",{onShow:()=>{},onHide:()=>{},keyboard:!0,backdrop:!0,closeOnClick:!0,modalStyle:{},backdropStyle:{},contentStyle:{},children:[]});var Ji=Oe;i();s();i();s();i();s();i();s();var sc=e=>{let{appState:t}=e,{props:r}=t.modal.modalState;return{...r}},ac=e=>({hideModal:()=>e(Fe())});function _e(e){return L(sc,ac)(e)}i();s();var re=_(k()),Ae=_(W());var le=class extends re.PureComponent{constructor(){super(...arguments);E(this,"state",{visible:!0});E(this,"onSubmit",()=>{this.props.hideModal(),this.props.onConfirm&&this.props.onConfirm(),this.setState({visible:!1})});E(this,"onCancel",()=>{this.props.hideModal(),this.props.onCancel&&this.props.onCancel(),this.setState({visible:!1})})}render(){let{t:r}=this.context;return re.default.createElement(Me.Prompt,{btnFull:!0,mask:!1,infoType:!1,alignBottom:!1,visible:this.state.visible,title:r("wallet_add_wallet_maintitle_hardware_wallet_conncet_failed"),text:r("wallet_add_wallet_modal_hardware_wallet_conncet_failed_tip"),onClose:this.onCancel,renderFooter:()=>re.default.createElement(re.default.Fragment,null,re.default.createElement(G,{block:!0,category:G.CATEGORY.outline,type:G.TYPE.primary,onClick:this.onCancel,size:G.SIZE.lg},r("wallet_transfer_btn_cancel_transaction")),re.default.createElement(G,{block:!0,category:G.CATEGORY.fill,type:G.TYPE.highlight,onClick:this.onSubmit,size:G.SIZE.lg,style:{marginTop:"var(--okd-dialog-footer-btn-full-sm-margin-top,8px)"}},r("wallet_manage_wallet_btn_reconncet_hardware_wallet")))})}};E(le,"contextTypes",{t:Ae.default.func});le.propTypes={hideModal:Ae.default.func.isRequired,onConfirm:Ae.default.func,onCancel:Ae.default.func};var Ot=Ue(_e,L(null))(le);i();s();i();s();i();s();var Xi=_(k()),Ce=_(W());var At=e=>{let{hideModal:t,loadingMessage:r,onClose:o}=e;return Xi.default.createElement(J,{loadingMessage:r,close:()=>{t(),o&&o()}})};At.contextTypes={t:Ce.default.func};At.propTypes={hideModal:Ce.default.func.isRequired,loadingMessage:Ce.default.string,onClose:Ce.default.func};var Zi=At;var Ct=_e(Zi);i();s();var es={transform:"translate3d(-50%, -50%, 0px)",borderRadius:"4px",backgroundColor:"#FFFFFF"},cc={...es,width:"344px",top:"50%"},uc={...es,width:"296px",top:"50%"},Qi={mobileModalStyle:{...uc},laptopModalStyle:{...cc},contentStyle:{borderRadius:"4px"}},lc={CONFIRM_CONNECTHARD_ERROR:{contents:Ee.default.createElement(Ot,null),...Qi},LOADING:{contents:Ee.default.createElement(Ct,null),...Qi},DEFAULT:{contents:[],mobileModalStyle:{},laptopModalStyle:{}}},pc={backgroundColor:"rgba(31, 37, 51, 0.4)"};function dc(e){return{active:e.appState.modal.open,modalState:e.appState.modal.modalState}}function mc(e){return{hideModal:t=>{e(Fe()),t&&t.action&&e(t.action(...t.args))},hideWarning:()=>{e(Hn())}}}var $e=class extends Ee.Component{hide(){this.modalRef.hide()}show(){this.modalRef.show()}UNSAFE_componentWillReceiveProps(t,r){t.active?this.show():this.props.active&&this.hide()}render(){let t=lc[this.props.modalState.name||"DEFAULT"],{contents:r,disableBackdropClick:o=!1}=t,n=t[zi()?"mobileModalStyle":"laptopModalStyle"],a=t.contentStyle||{};return Ee.default.createElement(Ji,{keyboard:!1,onHide:()=>{t.onHide&&t.onHide({hideWarning:this.props.hideWarning}),this.props.hideModal(t.customOnHideOpts)},ref:u=>{this.modalRef=u},modalStyle:n,contentStyle:a,backdropStyle:pc,closeOnClick:!o},r)}};E($e,"propTypes",{active:Pe.default.bool.isRequired,hideModal:Pe.default.func.isRequired,hideWarning:Pe.default.func.isRequired,modalState:Pe.default.object.isRequired});var Pt=L(dc,mc)($e);ve.config({duration:3,top:10,left:16,right:16,maxCount:3,placement:ve.DIRECTION.top,isInline:!0});var fc=(0,c.lazy)(()=>import("./new-home-page-UK6TSA6H.js")),hc=(0,c.lazy)(()=>import("./new-home-page.container-UQIYB72D.js")),gc=(0,c.lazy)(()=>import("./HowConnect-VV45YWDM.js")),_c=(0,c.lazy)(()=>import("./connect-hardware-VBYPY6L5.js")),ts=(0,c.lazy)(()=>import("./import-seed-phrase-DXG3LFSY.js")),rs=(0,c.lazy)(()=>import("./import-private-key-QCCYLZ5C.js")),os=(0,c.lazy)(()=>import("./check-NNZ5WMP2.js")),ns=(0,c.lazy)(()=>import("./verify-JI2TYTZK.js")),Ec=(0,c.lazy)(()=>import("./wrapper-SWMAI3AA.js")),Sc=(0,c.lazy)(()=>import("./wallet-edit-page-IQS7LER5.js")),Tc=(0,c.lazy)(()=>import("./wallet-backup-page-XABPQE4A.js")),vc=(0,c.lazy)(()=>import("./wallet-add-page-NQDB7SRK.js")),bc=(0,c.lazy)(()=>import("./wallet-list-page-GEBTAHUM.js")),wc=(0,c.lazy)(()=>import("./wallet-private-key-list-page-NSCXFO5M.js")),yc=(0,c.lazy)(()=>import("./CreatePassword-W74HPC56.js")),Oc=(0,c.lazy)(()=>import("./VerifyPassword-MTFOYGL2.js")),Ac=(0,c.lazy)(()=>import("./welcome-7ZIJ3NSV.js")),Cc=(0,c.lazy)(()=>import("./show-supported-chains-KGHVFEOR.js")),Pc=(0,c.lazy)(()=>import("./unlock-page-NPBNWPEG.js")),Nc=(0,c.lazy)(()=>import("./Receive-AHYDMNEF.js")),Rc=(0,c.lazy)(()=>import("./lock-KZBO5AGG.js")),Lc=(0,c.lazy)(()=>import("./ForgetPassword-AADFGEFF.js")),Ic=(0,c.lazy)(()=>import("./ResetPassword-SI243PAP.js")),xc=(0,c.lazy)(()=>import("./confirm-transaction-BBK5BUAX.js")),Dc=(0,c.lazy)(()=>import("./ok-select-network-DBFKVOYA.js")),Mc=(0,c.lazy)(()=>import("./ok-select-coin-WFQMBBNJ.js")),Uc=(0,c.lazy)(()=>import("./SendNft-LRUM5KTX.js")),kc=(0,c.lazy)(()=>import("./SendPageContainer-NQBZHMLG.js")),Fc=(0,c.lazy)(()=>import("./add-crypto.component-ZIJ6ETO7.js")),Wc=(0,c.lazy)(()=>import("./coin-manage-5MCM54EM.js")),Gc=(0,c.lazy)(()=>import("./custom-crypto-PLVX5SDD.js")),Hc=(0,c.lazy)(()=>import("./coin-search-L52HQDFY.js")),qc=(0,c.lazy)(()=>import("./Setting-W7XVKHVB.js")),jc=(0,c.lazy)(()=>import("./Preference-S5DDSPAW.js")),Bc=(0,c.lazy)(()=>import("./WalletSafely-RJWZQKBF.js")),Vc=(0,c.lazy)(()=>import("./SafetyLevel-TYT5IUVK.js")),$c=(0,c.lazy)(()=>import("./AboutWallet-UH3JOKT3.js")),Yc=(0,c.lazy)(()=>import("./WalletHistory-RAKJQZ6U.js")),Kc=(0,c.lazy)(()=>import("./Selector-VAIE6O7G.js")),zc=(0,c.lazy)(()=>import("./evm-KSPQIKPG.js")),Jc=(0,c.lazy)(()=>import("./solana-LAIPJKNH.js")),Xc=(0,c.lazy)(()=>import("./cosmos-YRSL3QHR.js")),Zc=(0,c.lazy)(()=>import("./aptos-YDRA6OEE.js")),Qc=(0,c.lazy)(()=>import("./trx-BSCUXXGN.js")),eu=(0,c.lazy)(()=>import("./DappEntry-HLSWW5CR.js")),tu=(0,c.lazy)(()=>import("./network-HRFV4DFI.js")),ru=(0,c.lazy)(()=>import("./switch-chain-PJXQQ2Y5.js")),ou=(0,c.lazy)(()=>import("./permissions-connect-CU4G7L2R.js")),nu=(0,c.lazy)(()=>import("./NftItem-RNN6Y664.js")),iu=(0,c.lazy)(()=>import("./NftFilter-H4G6CGJI.js")),su=(0,c.lazy)(()=>import("./authorization-token.components-VXCFNJCX.js")),au=(0,c.lazy)(()=>import("./connected-new-sites-D3T427R7.js")),cu=(0,c.lazy)(()=>import("./CoinDetail-PU2YQA7V.js")),uu=(0,c.lazy)(()=>import("./address-SXDX6SZO.js")),lu=(0,c.lazy)(()=>import("./register-XFVDAS2F.js")),pu=(0,c.lazy)(()=>import("./ZKSpace-DJQERH4L.js")),af=(0,c.lazy)(()=>import("./Receive-KK7ZS7FR.js")),du=(0,c.lazy)(()=>import("./Swap-7GXLJDV4.js")),mu=(0,c.lazy)(()=>import("./SelectCoin-6LJ6DP5U.js")),fu=(0,c.lazy)(()=>import("./sui-HO6LEUU3.js")),hu=(0,c.lazy)(()=>import("./rpc-mode-QTGKLBH7.js")),pe=class extends c.Component{constructor(){super(),this.state={}}UNSAFE_componentWillUpdate(t){let{isUnlocked:r,toastData:o}=t,{t:n}=this.context;if(r&&o){let{type:a="warn",titleKey:u,titleParams:p,url:g,urlKey:S,id:y}=o;ve[a]({title:n(u,p),desc:g?c.default.createElement(Qn,{url:g,urlText:n(S)}):null,key:y,onClose:()=>Yn(null)})}return null}UNSAFE_componentWillMount(){let{currentCurrency:t,pageChanged:r,setCurrentCurrencyToUSD:o,history:n}=this.props,a=this.context.t;t||o(),n.listen((u,p)=>{p==="PUSH"&&r(u.pathname)}),pr(mr.getCheckCountryLimit,{type:"2"}).then(u=>{try{let{data:{web3:{limit:p,displayCountryName:g}}}=u;p&&Me.warn({maskClosable:!1,renderFooter:()=>c.default.createElement("div",null),alignBottom:!1,title:a("wallet_extension_login_title_access_restricted"),text:a("wallet_extension_login_toast_unavailable_inyourregion",{area:g})})}catch{ve.error({title:a("wallet_home_toast_network_error")})}}).catch(ss.noop)}renderRoutes(){let{autoLockTimeLimit:t,setLastActiveTime:r}=this.props,o=c.default.createElement(c.Suspense,null,c.default.createElement(br,null,c.default.createElement(m,{path:Uo,component:gc,exact:!0}),c.default.createElement(I,{path:Lo,component:_c,exact:!0}),c.default.createElement(m,{path:Sn,component:ts,exact:!0}),c.default.createElement(m,{path:Tn,component:rs,exact:!0}),c.default.createElement(m,{path:vn,component:os,exact:!0}),c.default.createElement(m,{path:bn,component:ns,exact:!0}),c.default.createElement(m,{path:wn,component:Ec,exact:!0}),c.default.createElement(m,{path:yn,component:Sc,exact:!0}),c.default.createElement(m,{path:On,component:Tc,exact:!0}),c.default.createElement(m,{path:Cn,component:bc,exact:!0}),c.default.createElement(m,{path:Pn,component:wc,exact:!0}),c.default.createElement(m,{path:An,component:vc,exact:!0}),c.default.createElement(I,{path:Bo,component:yc,exact:!0}),c.default.createElement(m,{path:Vo,component:Oc}),c.default.createElement(I,{path:Yo,component:rs,exact:!0}),c.default.createElement(I,{path:$o,component:ts,exact:!0}),c.default.createElement(I,{path:`${Ko}/:type/:net`,component:Cc}),c.default.createElement(I,{path:`${Wo}/:coinId`,component:Nc,exact:!0}),c.default.createElement(I,{path:Po,component:Rc,exact:!0}),c.default.createElement(I,{path:ge,component:Ac}),c.default.createElement(qe,{path:ke,component:Pc,exact:!0}),c.default.createElement(qe,{path:Go,component:Lc}),c.default.createElement(m,{path:Ho,component:Ic}),c.default.createElement(m,{path:`${jo}/:id?`,component:xc}),c.default.createElement(m,{path:xn,component:hu}),c.default.createElement(m,{path:En,component:Dc}),c.default.createElement(m,{path:_n,component:Mc}),c.default.createElement(m,{path:xo,component:Uc,exact:!0}),c.default.createElement(m,{path:`${Io}/:coinId?`,component:kc}),c.default.createElement(m,{path:Ro,component:Fc,exact:!0}),c.default.createElement(m,{path:zo,component:os}),c.default.createElement(m,{path:Jo,component:ns}),c.default.createElement(m,{path:Xo,component:Wc}),c.default.createElement(m,{path:Zo,component:Gc}),c.default.createElement(m,{path:sn,component:Hc}),c.default.createElement(m,{path:Qo,component:qc}),c.default.createElement(m,{path:en,component:jc}),c.default.createElement(m,{path:tn,component:Bc}),c.default.createElement(m,{path:rn,component:Vc}),c.default.createElement(m,{path:on,component:$c}),c.default.createElement(m,{path:Nn,component:Yc,exact:!0}),c.default.createElement(m,{path:nn,component:Kc}),c.default.createElement(m,{path:un,component:zc}),c.default.createElement(m,{path:ln,component:Jc}),c.default.createElement(m,{path:`${mn}/:chain`,component:Xc}),c.default.createElement(m,{path:dn,component:Zc}),c.default.createElement(m,{path:pn,component:Qc}),c.default.createElement(m,{path:gn,component:eu}),c.default.createElement(m,{path:fn,component:fu}),c.default.createElement(m,{path:hn,component:tu}),c.default.createElement(m,{path:an,component:ru}),c.default.createElement(m,{path:`${Do}/:id`,component:ou}),c.default.createElement(m,{path:`${ko}`,component:nu,exact:!0}),c.default.createElement(m,{path:Fo,component:iu,exact:!0}),c.default.createElement(I,{path:`${cn}/:id`,component:su,exact:!0}),c.default.createElement(m,{path:`${Mo}`,component:au}),c.default.createElement(m,{path:`${No}`,component:cu,exact:!0}),c.default.createElement(m,{path:Rn,component:uu}),c.default.createElement(m,{path:Ln,component:lu}),c.default.createElement(m,{path:Dn,component:du}),c.default.createElement(m,{path:Mn,component:mu}),c.default.createElement(m,{path:In,component:pu}),c.default.createElement(m,{path:Co,component:hc}),c.default.createElement(m,{path:Ao,component:fc})));return t>0?c.default.createElement(qi,{onAction:r,throttle:1e3},o):o}onInitializationUnlockPage(){let{location:t}=this.props;return Boolean(vr(t.pathname,{path:qo,exact:!0}))}render(){let{isLoading:t,isLoadingHard:r,textDirection:o,loadingMessage:n,isMouseUser:a,browserEnvironment:u}=this.props,{os:p,browser:g}=u||{};return c.default.createElement("div",{className:(0,is.default)("app",{[`os-${p}`]:p,[`browser-${g}`]:g,"mouse-user-styles":a}),dir:o},c.default.createElement(Pt,null),c.default.createElement("div",{className:"main-container-wrapper"},t&&c.default.createElement(Zn,null),!t&&r&&c.default.createElement(yt,{loadingMessage:n}),this.renderRoutes()))}};pe.propTypes={currentCurrency:N.default.string.isRequired,setCurrentCurrencyToUSD:N.default.func.isRequired,isLoading:N.default.bool.isRequired,textDirection:N.default.string.isRequired,isUnlocked:N.default.bool.isRequired,setLastActiveTime:N.default.func.isRequired,history:N.default.object.isRequired,location:N.default.object.isRequired,isMouseUser:N.default.bool.isRequired,isLoadingHard:N.default.bool.isRequired,autoLockTimeLimit:N.default.number.isRequired,pageChanged:N.default.func.isRequired,browserEnvironment:N.default.object.isRequired};pe.contextTypes={t:N.default.func};function gu(e){var u;let{appState:t}=e,{isLoading:r,isLoadingHard:o,loadingMessage:n}=t,{autoLockTimeLimit:a=0}=Oo(e);return{textDirection:e.metamask.textDirection||"ltr",isLoading:r,isLoadingHard:o,loadingMessage:n,isUnlocked:e.metamask.isUnlocked,currentCurrency:(u=e.metamask.selectedCurrency)==null?void 0:u.isoCode,isMouseUser:e.appState.isMouseUser,autoLockTimeLimit:a,browserEnvironment:e.metamask.browserEnvironment,toastData:vo(e)}}function _u(e){return{setCurrentCurrencyToUSD:()=>e(qn("usd")),setLastActiveTime:()=>e(Vn()),pageChanged:t=>e(Xn(t))}}var Nt=Ue(wr,L(gu,_u))(pe);i();s();var Ye=class extends H.PureComponent{constructor(){super(...arguments);E(this,"state",{})}static getDerivedStateFromError(r){return{error:r}}componentDidCatch(r){tr(r)}render(){let{error:r}=this.state,{store:o}=this.props;return r?H.default.createElement(at,{store:o},H.default.createElement(ct,null,H.default.createElement(ut,null,H.default.createElement(Et,{error:r})))):H.default.createElement(at,{store:o},H.default.createElement(yr,{hashType:"noslash"},H.default.createElement(ct,null,H.default.createElement(ut,null,H.default.createElement(Nt,null)))))}};Ye.propTypes={store:as.default.object.isRequired};var cs=Ye;i();s();i();s();i();s();var Eu="metamask/send/OPEN_TO_DROPDOWN",Su="metamask/send/CLOSE_TO_DROPDOWN",Tu="metamask/send/UPDATE_SEND_ERRORS",vu="metamask/send/RESET_SEND_STATE",bu="metamask/send/SHOW_GAS_BUTTON_GROUP",wu="metamask/send/HIDE_GAS_BUTTON_GROUP",us={toDropdownOpen:!1,gasButtonGroupShown:!0,errors:{}};function Rt(e=us,t){switch(t.type){case Eu:return{...e,toDropdownOpen:!0};case Su:return{...e,toDropdownOpen:!1};case Tu:return{...e,errors:{...e.errors,...t.value}};case bu:return{...e,gasButtonGroupShown:!0};case wu:return{...e,gasButtonGroupShown:!1};case vu:return{...us};default:return e}}i();s();function Lt(e={},t){let r={shouldClose:!1,menuOpen:!1,modal:{open:!1,modalState:{name:null,props:{}},previousModalState:{name:null}},sidebar:{isOpen:!1,transitionName:"",type:"",props:{}},alertOpen:!1,alertMessage:null,qrCodeData:null,networkDropdownOpen:!1,accountDetail:{subview:"transactions"},isLoading:!1,isLoadingHard:!1,warning:null,buyView:{},isMouseUser:!1,gasIsLoading:!1,defaultHdPaths:{trezor:"m/44'/60'/0'/0",ledger:"m/44'/60'/0'/0/0"},networksTabSelectedRpcUrl:"",networksTabIsInAddMode:!1,loadingMethodData:!1,requestAccountTabs:{},openMetaMaskTabs:{},currentWindowTab:{},showWhatsNewPopup:!0,homePageScrollTop:0,watchedSeed:{},popupCloseWhenUnmount:!1,imageObserve:null,showSupportedChainsFlag:!0,...e};switch(t.type){case xr:return{...r,networkDropdownOpen:!0};case Dr:return{...r,networkDropdownOpen:!1};case Pr:return{...r,sidebar:{...t.value,isOpen:!0}};case Nr:return{...r,sidebar:{...r.sidebar,isOpen:!1}};case Rr:return{...r,alertOpen:!0,alertMessage:t.value};case Lr:return{...r,alertOpen:!1,alertMessage:null};case Ir:return{...r,qrCodeData:t.value};case Ar:{let{name:o,...n}=t.payload;return{...r,modal:{open:!0,modalState:{name:o,props:{...n}},previousModalState:{...r.modal.modalState}}}}case Cr:return{...r,modal:Object.assign(r.modal,{open:!1},{modalState:{name:null,props:{}}},{previousModalState:r.modal.modalState})};case $r:return{...r,accountDetail:{}};case Mr:return{...r,forgottenPassword:t.value};case Br:return{...r,warning:null};case Fr:return{...r,warning:null};case Or:return{...r,accountDetail:{subview:"transactions",accountExport:"none",privateKey:""},warning:null};case Hr:return{...r,forgottenPassword:r.forgottenPassword?!r.forgottenPassword:null,accountDetail:{subview:"transactions",accountExport:"none",privateKey:""}};case qr:return{...r,isLoading:!1,warning:null,scrollToBottom:!1,forgottenPassword:!1};case jr:return{...r,txId:t.id,warning:null,isLoading:!1};case Yr:return t.value.unconfirmedActionsCount>0?{...r,txId:null,warning:null}:{...r,shouldClose:!0,warning:null,txId:null,accountDetail:{subview:"transactions"}};case Kr:return{...r};case Ur:return{...r,warning:t.value||"Incorrect password. Try again."};case kr:return{...r,warning:""};case Xr:{let{device:o,path:n}=t.value,a={...r.defaultHdPaths};return a[o]=n,{...r,defaultHdPaths:a}}case Zr:return{...r,isLoading:!0,loadingMessage:t.value};case eo:return{...r,isLoadingHard:!0,loadingMessage:t.value};case Qr:return{...r,isLoading:!1};case to:return{...r,isLoadingHard:!1};case Wr:return{...r,warning:t.value,isLoading:!1};case Gr:return{...r,warning:void 0};case Vr:return{...r,accountDetail:{subview:"export",accountExport:"completed",privateKey:t.value}};case ro:return{...r,isMouseUser:t.value};case zr:return{...r,gasIsLoading:!0};case Jr:return{...r,gasIsLoading:!1};case oo:return{...r,networksTabSelectedRpcUrl:t.value};case no:return{...r,networksTabIsInAddMode:t.value};case io:return{...r,loadingMethodData:!0};case so:return{...r,loadingMethodData:!1};case ao:return{...r,requestAccountTabs:t.value};case uo:return{...r,openMetaMaskTabs:t.value};case co:return{...r,currentWindowTab:t.value};case lo:return{...r,showWhatsNewPopup:!1};case po:return{...r,homePageScrollTop:t.value};case mo:return{...r,imageObserve:t.value};case ho:return{...r,showSupportedChainsFlag:t.value};case fo:return{...r,watchedSeed:t.value};case go:return{...r,popupCloseWhenUnmount:t.value};default:return r}}i();s();var ps=_(De()),yu="metamask/gas/BASIC_GAS_ESTIMATE_LOADING_FINISHED",Ou="metamask/gas/BASIC_GAS_ESTIMATE_LOADING_STARTED",Au="metamask/gas/RESET_CUSTOM_DATA",Cu="metamask/gas/SET_BASIC_GAS_ESTIMATE_DATA",Pu="metamask/gas/SET_CUSTOM_GAS_LIMIT",Nu="metamask/gas/SET_CUSTOM_GAS_PRICE",ls={customData:{price:null,limit:null},basicEstimates:{safeLow:null,average:null,fast:null},basicEstimateIsLoading:!0};function It(e=ls,t){switch(t.type){case Ou:return{...e,basicEstimateIsLoading:!0};case yu:return{...e,basicEstimateIsLoading:!1};case Cu:return{...e,basicEstimates:t.value};case Nu:return{...e,customData:{...e.customData,price:t.value}};case Pu:return{...e,customData:{...e.customData,limit:t.value}};case Au:return{...e,customData:(0,ps.cloneDeep)(ls.customData)};default:return e}}i();s();i();s();var Ru=ae.invalidCustomNetwork,Lu={state:ce.CLOSED,networkName:""},Iu=Fn({name:Ru,initialState:Lu,reducers:{openAlert:(e,t)=>{e.state=ce.OPEN,e.networkName=t.payload},dismissAlert:e=>{e.state=ce.CLOSED,e.networkName=""}}}),{actions:xu,reducer:Du}=Iu,xt=Du;var{openAlert:th,dismissAlert:rh}=xu;i();s();i();s();i();s();var ds={[wi]:yi};i();s();var ms={[ei]:ti,[mi]:fi,[gi]:_i,[Ei]:Si};i();s();var fs={[vi]:bi};var hs={...ds,...ms,...fs};var gs=Sr({[ae.invalidCustomNetwork]:xt,[ae.unconnectedAccount]:pt,activeTab:e=>e===void 0?null:e,metamask:Eo,appState:Lt,history:Jn,send:Rt,nftSend:pi,newDapp:oi,confirmTransaction:ni,gas:It,localeMessages:_o,importAccount:ui,coinDetail:ai,txHistory:di,balanceSlice:si,isWhitelist:e=>e===void 0?null:e,animateCollect:ci,editWallet:li,Nft:ii,addressBookState:Ti,commonSend:dt,walletConfig:ri,businessSend:mt,...hs});function Dt(e){return Er(gs,e,Tr(kn))}i();s();function Mu({container:e=document.body,width:t="200px",height:r="200px",textAlign:o="center",textBaseline:n="middle",font:a="12px Microsoft Yahei",fillStyle:u="rgba(184, 184, 184, 0.3)",rotate:p="20",zIndex:g=1e4}={}){let S=document.createElement("canvas");S.setAttribute("width",t),S.setAttribute("height",r);let y=S.getContext("2d");y.textAlign=o,y.textBaseline=n,y.font=a,y.fillStyle=u,y.rotate(Math.PI/180*p),y.fillText(process.env.BUILD_VERSION,parseFloat(t)/2,parseFloat(r)/2);let D=S.toDataURL(),v=document.createElement("div"),b=`
    position:fixed;
    top:0;
    left:0;
    bottom:0;
    right:0;
    width:100%;
    height:100%;
    z-index:${g};
    pointer-events:none;
    background-repeat:repeat;
    background-image:url('${D}')`;v.setAttribute("style",b),v.classList.add("__wm"),e.insertBefore(v,e.firstChild)}var _s=Mu;ws.default.config({EXPONENTIAL_AT:[-40,40]});Qt.config({top:16});Ss.default.setLevel(process.env.ASSETS_BUILD_TYPE==="dev"||process.env.ASSETS_BUILD_TYPE==="daily"?"debug":"warn");(process.env.ASSETS_BUILD_TYPE===nt.DEV||process.env.ASSETS_BUILD_TYPE===nt.DAILY)&&_s();function ys(e,t){return Object.keys(e).reduce((r,o)=>(t[o]===!0?r[o]=e[o]:t[o]&&(r[o]=ys(e[o],t[o])),r),{})}function Uu(e){window.getCleanAppState=function(){let t=(0,Ts.clone)(e.getState());return t.version=globalThis.platform.getVersion(),t.browser=window.navigator.userAgent,t},window.getSentryState=function(){let t=e.getState(),r=ys(t);return{browser:window.navigator.userAgent,store:r,version:globalThis.platform.getVersion()}}}var ku=async()=>Promise.allSettled([gr(),_r()]);async function Fu({metamaskState:e,isWhitelist:t},r,o){var D;e.featureFlags||(e.featureFlags={}),await ku();let n=e.currentLocale?await fr(e.currentLocale):{},a={activeTab:o.activeTab,metamask:e,appState:{},localeMessages:{current:n,en:{}},isWhitelist:t};if(z()===he){let{origin:v}=a.activeTab,b=Un(a),ne=yo(a),d=To(a),f=So(a);v&&f&&!d[v]&&b.length>0&&!b.includes(ne)&&(a[ae.unconnectedAccount]={state:ce.OPEN},$n(v))}let u={...a},p=Dt(u),g=wo(e.unapprovedTxs,e.unapprovedMsgs,e.unapprovedPersonalMsgs,e.unapprovedDecryptMsgs,e.unapprovedEncryptionPublicKeyMsgs,e.unapprovedTypedMessages,e.network,e.provider.chainId);return g.length>0&&p.dispatch(Wn({id:g[0].id})),r.onNotification(v=>{if(v.method==="sendUpdate"){let b=v.params[0];b!=null&&b.needUpdateChain?(st(b.chainList),fe().setNeedUpdateChain(!1)):Fi(b.chainList,cr)&&st(b.chainList),p.dispatch(Bn(b))}else throw new Error(`Internal JSON-RPC Notification Not Handled:

 ${JSON.stringify(v)}`)}),globalThis.metamask={updateCurrentLocale:v=>{p.dispatch(jn(v))},setProviderType:v=>{p.dispatch(Kn(v))},setFeatureFlag:(v,b)=>{p.dispatch(zn(v,b))}},ur(((D=e==null?void 0:e.remoteConfig)==null?void 0:D.networks)||[]),bs.createRoot(o.container).render(vs.default.createElement(cs,{store:p})),e.currentLocale&&hr(e.currentLocale),p}function Mt(e,t){var o;let{backgroundConnection:r}=e;er(r),fe().getCurrencies(),lr(r.refreshHttpDNS),r.getStateByDomain((o=e==null?void 0:e.activeTab)==null?void 0:o.origin,(n,{metamaskState:a,isWhitelist:u})=>{if(n){t(n);return}let{currentLocale:p}=a;dr(p),Fu({metamaskState:a,isWhitelist:u},r,e).then(g=>{Uu(g),t(null,g)})})}window.logStateString=function(e){let t=window.getCleanAppState();globalThis.platform.getPlatformInfo((r,o)=>{if(r){e(r);return}t.platform=o;let n=JSON.stringify(t,null,2);e(null,n)})};window.logState=function(e){return window.logStateString((t,r)=>{t?console.error(t.message):e&&(0,Es.default)(r)})};i();s();var w=_(Xt());var Ne=class{reload(){w.default.runtime.reload()}openTab(t){return new Promise((r,o)=>{w.default.tabs.create(t).then(n=>{let a=j();return a?o(a):r(n)}).catch(n=>{console.error(n)})})}openWindow(t){return new Promise((r,o)=>{w.default.windows.create(t).then(n=>{let a=j();return a?o(a):r(n)}).catch(n=>{console.error(n)})})}focusWindow(t){return new Promise((r,o)=>{w.default.windows.update(t).then({focused:!0},()=>{let n=j();return n?o(n):r()}).catch(n=>{console.error(n)})})}updateWindowPosition(t,r,o){return new Promise((n,a)=>{w.default.windows.update(t,{left:r,top:o}).then(()=>{let u=j();return u?a(u):n()}).catch(u=>{console.error(u)})})}getLastFocusedWindow(){return new Promise((t,r)=>{w.default.windows.getLastFocused().then(o=>{let n=j();return n?r(n):t(o)}).catch(o=>{console.error(o)})})}closeCurrentWindow(){return w.default.windows.getCurrent().then(t=>w.default.windows.remove(t.id))}getVersion(){return w.default.runtime.getManifest().version}openExtensionInBrowser(t=null,r=null){let o=w.default.runtime.getURL("home.html");r&&(o+=`?${r}`),t&&(o+=`#${t}`),this.openTab({url:o}),z()!==it&&window.close()}async openExtensionInPopup(t=null,r=null){let o=w.default.runtime.getURL("home.html");r&&(o+=`?${r}`),t&&(o+=`#${t}`);let{screenX:n,screenY:a,outerWidth:u}=window,p=Math.max(a,0),g=Math.max(n+(u-360),0);if(!n){let S=await this.getLastFocusedWindow();p=S.top,g=S.left+(S.width-360)}this.openWindow({url:o,type:"popup",width:360,height:600,top:p,left:g}),z()!==it&&window.close()}getPlatformInfo(t){try{w.default.runtime.getPlatformInfo().then(r=>{t(null,r)}).catch(r=>{console.error(r),t(r)})}catch(r){t(r);return}}showTransactionNotification(t,r){let{status:o,txReceipt:{status:n}={}}=t;o===lt.CONFIRMED?n==="0x0"?this._showFailedTransaction(t,"Transaction encountered an error."):this._showConfirmedTransaction(t,r):o===lt.FAILED&&this._showFailedTransaction(t)}getAllWindows(){return new Promise((t,r)=>{w.default.windows.getAll().then(o=>{let n=j();return n?r(n):t(o)}).catch(o=>{console.error(o)})})}getActiveTabs(){return new Promise((t,r)=>{w.default.tabs.query({active:!0}).then(o=>{let n=j();return n?r(n):t(o)}).catch(o=>{console.error(o)})})}currentTab(){return new Promise((t,r)=>{w.default.tabs.getCurrent().then(o=>{let n=j();n?r(n):t(o)}).catch(o=>{console.error(o)})})}switchToTab(t){return new Promise((r,o)=>{w.default.tabs.update(t,{highlighted:!0}).then(n=>{let a=j();a?o(a):r(n)}).catch(n=>{console.error(n)})})}closeTab(t){return new Promise((r,o)=>{w.default.tabs.remove(t).then(()=>{let n=j();n?o(n):r()}).catch(n=>{console.error(n)})})}_showConfirmedTransaction(t,r){this._subscribeToNotificationClicked();let o=bo(t,r),n=parseInt(t.txParams.nonce,16),a="Confirmed transaction",u=`Transaction ${n} confirmed! ${o.length?"View on blockchain browser":""}`;this._showNotification(a,u,o)}_showFailedTransaction(t,r){let o=parseInt(t.txParams.nonce,16),n="Failed transaction",a=`Transaction ${o} failed! ${r||t.err.message}`;this._showNotification(n,a)}_showNotification(t,r,o){w.default.notifications.create(o,{type:"basic",title:t,iconUrl:w.default.extension.getURL("../../static/images/icon-64.png"),message:r})}_subscribeToNotificationClicked(){w.default.notifications.onClicked.hasListener(this._viewOnEtherscan)||w.default.notifications.onClicked.addListener(this._viewOnEtherscan)}_viewOnEtherscan(t){t.startsWith("https://")&&w.default.tabs.create({url:t})}};i();s();var js=_(Us()),Bs=_(qs());function Vs(e){let t=new js.default;return(0,Bs.default)(e,t,e,r=>{r&&console.error(r)}),t}i();s();var sa=_(ia()),aa=_(La());var Kt=class{constructor(t){this.connectionStream=t,this.notificationChannel=new aa.default,this.requests=new Map,this.connectionStream.on("data",this.handleResponse.bind(this)),this.connectionStream.on("end",this.close.bind(this))}onNotification(t){this.notificationChannel.addListener("notification",r=>{t(r)})}close(){this.notificationChannel.removeAllListeners()}handleResponse(t){let{id:r,result:o,error:n,method:a,params:u}=t,p=this.requests.get(r);if(!(a&&u&&r)){if(a&&u&&!r){this.notificationChannel.emit("notification",t);return}if(!!p){if(n){let g=new sa.EthereumRpcError(n.code,n.message,n.data);g.stack=n.stack,this.requests.delete(r),p(g);return}this.requests.delete(r),p(null,o)}}}},ll=e=>{let t=new Kt(e);return new Proxy(t,{get:(r,o)=>r[o]?r[o]:(...n)=>{let a=n[n.length-1],u=n.slice(0,-1),p=hi();r.requests.set(p,a),r.connectionStream.write({jsonrpc:"2.0",method:o,params:u,id:p})}})},ca=ll;function pl(e){let t=new da.default;t.pipe(e).pipe(t),e.on("error",console.error.bind(console)),t.on("error",console.error.bind(console)),globalThis.ethereumProvider=t,globalThis.ethQuery=new pa.default(t),globalThis.eth=new la.default(t)}function dl(e,t){let r=ca(e);t(null,r)}function ml(e,t){let r=Vs(e);dl(r.createStream("controller"),t),pl(r.createStream("provider"))}function fl(e,t,r,o){ml(r,(n,a)=>{if(n){o(n);return}Mt({activeTab:e,container:t,backgroundConnection:a},o)})}async function hl(e){return new Promise(t=>{if(e!==he){t({});return}zt.default.tabs.query({active:!0,currentWindow:!0}).then(r=>{let[o]=r,{id:n,title:a,url:u}=o,{origin:p,protocol:g}=u?new URL(u):{};if(!p||p==="null"){t({});return}t({id:n,title:a,origin:p,protocol:g,url:u})}).catch(r=>{console.error(r)})})}async function gl(){globalThis.platform=new Ne;let e=z(),t=zt.default.runtime.connect({name:e}),r=new ua.default(t);function o(a){let u=document.getElementById("app-content");fl(a,u,r,p=>{if(p)throw p})}let n=await hl(e);or()===rr&&(n.origin="https://www.okx.com"),o(n)}gl().catch(ma.default.error);

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

