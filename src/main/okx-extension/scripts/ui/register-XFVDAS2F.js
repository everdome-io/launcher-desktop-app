import{a as J}from"./chunk-WM6OHCGF.js";import{i as H}from"./chunk-PFBN4VGD.js";import"./chunk-RJTK42A4.js";import{K as M,c as R,db as q,eb as W,gb as $,hb as z,na as Y}from"./chunk-XBLB7XW3.js";import{$e as D,Ia as I,Ka as x,Kc as k,Lc as S,Mj as G,Rc as E,Sc as P,Va as C,Yb as u,ah as w,bg as O,e as h,ga as X,gg as F,i as p,k as f,lk as U,nc as n,pj as A,sa as b,ta as s,wk as B,ze as L}from"./chunk-5YY3VNR7.js";p();f();var t=h(X());var j=h(R());p();f();var Z=async(o,r)=>{let m={coinId:n,address:r},v={fromAddr:r},{info:{sequenceNumber:_,chainId:l,maxGasAmount:g,gasUnitPrice:i,expirationTimestampSecs:a}}=await G(m,v),d={type:L.REGISTER,base:{sequenceNumber:_,chainId:l,maxGasAmount:g,gasUnitPrice:i,expirationTimestampSecs:a},data:{tyArg:o}};return await C().signTransaction(d,r,u)};var At=()=>{let o=Y(),r=k(),m=E(),[v,_]=(0,t.useState)(!1),{search:l}=P(),g=(0,t.useMemo)(()=>new URLSearchParams(l).get("contractAddress"),[l]),{baseCoin:i={}}=M(n),a=S(c=>{let N=O(c),y=F(c);return{address:y[N].account[u],wallet:`${y[N].walletName} - ${y[N].keyringName}`}}),{loading:d,aptosFee:e}=q({coinId:n,address:a.address},!0),K=$(e.fee,i),Q=W(),T=B(Q,U(e.fee)),V=z(e.fee,i);return t.default.createElement("div",{className:"aptos-confirm-transaction--main"},t.default.createElement(H,{title:o("wallet_extension_title_register_crypto"),closeable:!1}),t.default.createElement("div",{className:"aptos-confirm-transaction"},t.default.createElement("div",{className:"aptos-confirm-transaction--body"},t.default.createElement("div",{className:"aptos-confirm-transaction--item aptos-confirm-transaction--item-normal"},t.default.createElement("div",{className:"aptos-confirm-transaction--title"},o("wallet_transfer_confirmation_subtitle_wallet")),t.default.createElement("div",{className:"aptos-confirm-transaction--value aptos-confirm-transaction--value-normal"},t.default.createElement("span",null,a.wallet))),t.default.createElement("div",{className:"aptos-confirm-transaction--item aptos-confirm-transaction--item-normal"},t.default.createElement("div",{className:"aptos-confirm-transaction--title"},o("wallet_extension_title_wallet_address")),t.default.createElement("div",{className:"aptos-confirm-transaction--value aptos-confirm-transaction--value-normal"},t.default.createElement("span",null,D(a.address)),t.default.createElement("img",{onClick:()=>{(0,j.default)(a.address),x.success({title:o("wallet_transaction_history_toast_address_copied"),desc:a.fromAddress,containerClassName:"address-copy-notification"})},src:"/static/images/dapp-copy.svg",className:"confirm-transaction--copy"}))),t.default.createElement("div",{className:"confirm-transaction--line"}),t.default.createElement("div",{className:"aptos-confirm-transaction--item aptos-confirm-transaction--item-normal"},t.default.createElement("div",{className:"aptos-confirm-transaction--title"},o("wallet_dapp_conncetion_subtitle_network")),t.default.createElement("div",{className:"aptos-confirm-transaction--value aptos-confirm-transaction--value-normal"},t.default.createElement(I,{width:20,height:20,alt:"",src:i.image||A,errorImg:A,className:"aptos-confirm-transaction--text-image"}),t.default.createElement("span",null,i.chainName))),t.default.createElement("div",{className:"aptos-confirm-transaction--item aptos-confirm-transaction--item-normal"},t.default.createElement("div",{className:"aptos-confirm-transaction--title"},o("wallet_dapp_conncetion_subtitle_network_fee")),d?t.default.createElement(b,null):t.default.createElement("div",{className:"aptos-confirm-transaction--value aptos-confirm-transaction--value-normal"},t.default.createElement("div",null,t.default.createElement("div",null,`${o("wallet_transfer_subtitle_trading_speed_average")} `,K),t.default.createElement("div",{className:"aptos-confirm-transaction--multi-bottom"},V)))),!T&&t.default.createElement("div",{className:"aptos-confirm-transaction--insufficient-gas"},o("wallet_extension_popup_insufficient_network_fee",{token:i.symbol})))),t.default.createElement("div",{className:"aptos-confirm-transaction--button-group"},t.default.createElement(s,{className:"ok-confirm-transaction-button",category:s.CATEGORY.outline,type:s.TYPE.secondary,size:s.SIZE.md,block:!0,onClick:async()=>{m.push(w)}},o("wallet_dapp_connection_btn_reject")),t.default.createElement(s,{block:!0,loading:v,className:"ok-confirm-transaction-button",category:s.CATEGORY.fill,type:s.TYPE.highlight,size:s.SIZE.md,disabled:!T||d,onClick:async()=>{_(!0);let c=await Z(g,a.address);await r(J({signedTx:c,coinAmount:0,coinId:n,fromAdr:a.address,toAdr:"",serviceCharge:e.fee,extJson:JSON.stringify({register:!0})})),m.push(w)}},o("wallet_set_password_btn_confirm"))))};export{At as default};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

