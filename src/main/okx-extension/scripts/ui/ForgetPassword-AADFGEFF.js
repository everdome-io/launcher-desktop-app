import{b as A}from"./chunk-OTQZKSNG.js";import{Va as P,f as B}from"./chunk-U3HLVTEP.js";import"./chunk-5TVTY5EZ.js";import{i as G}from"./chunk-PFBN4VGD.js";import{a as U}from"./chunk-RJTK42A4.js";import{k as m,na as z,x as p,z as D}from"./chunk-XBLB7XW3.js";import{Cg as S,Hh as O,Ka as g,Kc as b,Lc as v,Lh as Y,e as h,ga as M,i as C,k as N,ta as t,uh as I,xa as T,ya as k}from"./chunk-5YY3VNR7.js";C();N();var e=h(M()),F=h(U());var u="RESET",V=3,$=["forgotpwd_mid_item_desc1","forgotpwd_mid_item_desc2","forgotpwd_mid_item_desc3"],q="reset-password",ie=({history:a})=>{let L=D(),_=b(),s=z(),n=v(S),[f,{toggle:c}]=m(!1),[W,{set:w}]=m(!1),[d,y]=e.default.useState([]),[r,Z]=e.default.useState(""),l=L.get("from")===q,x=o=>{d.includes(o)?y(i=>i.filter(H=>H!==o)):y(i=>[...i,o])},E=p(async()=>{w(!0);try{await _(B()),await _(P()),await _(A("isRpcMode",!1)),g.success({placement:g.DIRECTION.top,title:s("walletsecurity_top_toast_notification")}),a.push(I)}finally{w(!1)}},[]),K=p(()=>{n?a.push(`${O}?nextPath=${Y}`):a.go(-1)},[n]);return e.default.createElement("div",{className:"forget-password"},e.default.createElement(G,{closeable:!1,title:s(l?"securityreset_header_text_reset":"forgotpwd_header_title_forget_password")}),e.default.createElement("div",{className:"forget-password__container"},e.default.createElement("img",{className:"forget-password__icon",src:"static/images/setting/forget-password_bg.svg",alt:"logo"}),!!l&&e.default.createElement("h1",{className:"forget-password__title"},s("securityreset_mid_title_risk_warning")),l?e.default.createElement("div",{className:"forget-password__desc"},s("securityreset_mid_subtitle_note")):e.default.createElement("ul",{className:"forget-password__tips"},$.map((o,i)=>e.default.createElement("li",{key:i,onClick:()=>{x(i)},className:"forget-password__tip"},e.default.createElement("img",{alt:"logo",className:"forget-password__tip__icon",src:d.includes(i)?"static/images/setting/check.svg":"static/images/setting/un_check.svg"}),s(o)))),e.default.createElement("div",{className:"forget-password__actions"},l?e.default.createElement(e.default.Fragment,null,e.default.createElement(t,{size:t.SIZE.lg,category:t.CATEGORY.outline,type:t.TYPE.primary,className:"forget-password__action",onClick:c},s("securityreset_header_text_reset")),e.default.createElement(t,{onClick:K,size:t.SIZE.lg,style:{marginLeft:8},type:t.TYPE.highlight,category:t.CATEGORY.fill,className:"forget-password__action"},s(n?"securityreset_footer_btn_back":"securityreset_mid_btn_cancel"))):e.default.createElement(t,{block:!0,size:t.SIZE.lg,onClick:c,type:t.TYPE.highlight,category:t.CATEGORY.fill,className:"forget-password__action",disabled:d.length!==V},s("forgotpwd_footer_btn_reset_password")))),e.default.createElement(T,{hideCloseBtn:!0,noContentPadding:!0,visible:f},f&&e.default.createElement("div",{className:"reset-wallet"},e.default.createElement("h1",{className:"reset-wallet__title"},s("securityreset_mid_title_reset_password")),e.default.createElement("h2",{className:"reset-wallet__label"},s("securityreset_mid_text_enter_reset",{text:e.default.createElement("span",{key:"reset",style:{color:"#E3493F"}},s("securityreset_mid_placeholder_reset"))})),e.default.createElement(k,{size:"xl",cleanable:!0,value:r,autoFocus:!0,onKeyDown:o=>{o.keyCode===13&&r===u&&E()},placeholder:s("securityreset_mid_placeholder_reset"),onChange:({target:{value:o}})=>{Z(o)}}),e.default.createElement("div",{className:"reset-wallet__actions"},e.default.createElement(t,{size:t.SIZE.lg,type:t.TYPE.primary,className:"reset-wallet__action reset-wallet__cancel",category:t.CATEGORY.outline,onClick:c},s("securityreset_mid_btn_cancel")),e.default.createElement(t,{size:t.SIZE.lg,type:t.TYPE.red,category:t.CATEGORY.fill,disabled:r!==u,className:(0,F.default)("reset-wallet__action",{"reset-wallet__action__disabled":r!==u}),loading:W,onClick:E},s("securityreset_mid_btn_confirm"))))))};export{ie as default};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

