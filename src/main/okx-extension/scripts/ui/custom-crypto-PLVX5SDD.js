import{a as J}from"./chunk-HR5FUKQZ.js";import{a as j}from"./chunk-GI7JZJFS.js";import{a as G}from"./chunk-C2M3YEKK.js";import{Fa as Z,da as F,ea as Y,ia as W}from"./chunk-U3HLVTEP.js";import"./chunk-5TVTY5EZ.js";import{i as $}from"./chunk-PFBN4VGD.js";import"./chunk-RJTK42A4.js";import{k as H,n as y,na as K}from"./chunk-XBLB7XW3.js";import{$f as D,Cc as x,Dg as q,Jc as E,Jg as B,La as f,Rc as P,Uh as z,Yb as A,ah as M,bg as O,e as S,ga as gt,gg as U,i as a,k as n,la as _t,nc as T,ta as m,ya as d,zc as L}from"./chunk-5YY3VNR7.js";a();n();a();n();a();n();var t=S(gt());var c=S(_t());a();n();var Q="selectedNetwork";var V=s=>{let{walletAddress:g,addCustomCoins:w,getCustomCoinInfo:R,supportNetworkList:u,resetCustomCoinInfo:tt,getSupportNetworkListAction:et}=s,N=P(),i=K(),[b,_]=(0,t.useState)(!1),[ot,p]=(0,t.useState)(!0),[r,I]=(0,t.useState)({}),[st,v]=(0,t.useState)({register:!1,status:0}),[h,rt]=(0,t.useState)(""),[l,it]=(0,t.useState)({imageUrl:"",name:""}),[at,{setTrue:nt,setFalse:ct}]=H(),{run:lt}=y(async e=>{let o;try{o=await R({contractAddress:e,chainInfo:l})}catch{o={}}e===h&&(I(o),e&&(o==null?void 0:o.symbol)?(_(!1),p(!1)):e?o!=null&&o.symbol||(_(!0),p(!0)):(_(!1),p(!0)))},{wait:500}),{run:mt}=y(async()=>{if(nt(),l.coinId===T){let{data:{register:e,status:o}}=await L(x.getAptosResisterStatus,{address:g,contractAddress:r.contractAddress});if(!e){v({register:!e,status:o});return}}if(r!=null&&r.added){f.error(i("wallet_manage_crypto_errortip_crypto_added"));return}try{await w(r),f.success(i("wallet_manage_crypto_toast_custom_crypto_success")),tt(),N.push(M)}catch{f.error("error")}finally{ct()}},{wait:100});if((0,t.useEffect)(()=>{et()},[]),(0,t.useEffect)(()=>{async function e(){if(u.length>0){let o="Ethereum",dt=await J(Q)||o;it(u.filter(ft=>ft.name===dt)[0]||u[0])}}e()},[u]),!l.imageUrl)return t.default.createElement(G,null);let ut=t.default.createElement("div",{className:"chain-select",onClick:()=>{N.push(`${z}?pageType=customCrypto`)}},t.default.createElement("div",{className:"chain-select-title"},i("wallet_custom_crypto_subtitle_select_network")),t.default.createElement("div",{className:"chain-select-box"},t.default.createElement("img",{className:"chain-select-icon",src:l.imageUrl,alt:"chain"}),t.default.createElement("div",{className:"chain-select-name"},l.name),t.default.createElement("img",{alt:"select",src:"/static/images/nav-global/input-arrow.svg",className:"chain-select-arrow"}))),pt=e=>{I({}),p(!0),rt(e),lt(e)},k=(e,o)=>t.default.createElement("div",{className:"crypto-base-info"},t.default.createElement("div",{className:"crypto-base-info-title"},e),t.default.createElement("input",{disabled:!0,className:"crypto-base-info-box",value:o}));return t.default.createElement("div",{className:"custom-crypto-page main-container"},t.default.createElement(j,{customCoin:r,registerDialog:st,onCancel:()=>{v({register:!1,status:0})}}),t.default.createElement($,{title:i("wallet_manage_crypto_maintitle_custom_crypto")}),t.default.createElement("div",{className:"custom-crypto--body"},ut,t.default.createElement("div",{className:"contract-address-box"},t.default.createElement(d.TextArea,{autoResize:!0,value:h,title:i("wallet_transaction_history_subtitle_contract_address"),size:d.SIZE.xl,error:b&&i("wallet_manage_crypto_custom_crypto_errortip_invalid_address"),errorType:d.TIP_TYPE.always,placeholder:i("extension_token_input_addcustom_crypto"),onChange:e=>{pt(e.target.value)}})),(r==null?void 0:r.symbol)&&t.default.createElement(t.default.Fragment,null,k(i("wallet_manage_crypto_subtitle_custom_crpto_symbol"),r.symbol),k(i("wallet_manage_crypto_custom_coin_subtitle_decimals"),r.decimals))),t.default.createElement(m,{onClick:mt,loading:at,size:m.SIZE.lg,type:m.TYPE.highlight,category:m.CATEGORY.fill,className:"custom-crypto-bottom-button",disabled:b||ot},i("wallet_set_password_btn_confirm")))};V.propTypes={addCustomCoins:c.default.func.isRequired,getCustomCoinInfo:c.default.func.isRequired,resetCustomCoinInfo:c.default.func.isRequired,getSupportNetworkListAction:c.default.func.isRequired,supportNetworkList:c.default.array.isRequired};var X=V;var yt=s=>{let g=O(s);return{walletAddress:U(s)[g].account[A],userInfo:D(s),customCoin:q(s),supportNetworkList:B(s)}},Ct=()=>({getCustomCoinInfo(s){return F(s)},addCustomCoins(s){Y(s)},resetCustomCoinInfo(){W()},getSupportNetworkListAction(){return Z()}}),wt=E(yt,Ct)(X);export{wt as default};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

