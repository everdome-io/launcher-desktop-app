import{a as Tt,b as vt,d as v,e as C,f as K,j as wt,k as gt,l as Nt}from"./chunk-BWZX64YP.js";import{a as pe}from"./chunk-E3346FRQ.js";import{b as ut,f as pt,g as ct,h as ft,i as dt,o as te,p as xt}from"./chunk-PQCWYN5P.js";import{b as j}from"./chunk-QWFNWJXB.js";import{a as mt,b as ue}from"./chunk-6UCPSTEH.js";import{N as Ue,P as $e}from"./chunk-U3HLVTEP.js";import{l as Ye,m as ze}from"./chunk-5TVTY5EZ.js";import{i as _t}from"./chunk-PFBN4VGD.js";import{a as je}from"./chunk-RJTK42A4.js";import{Fa as Se,Ha as De,K as ee,Ka as at,S as O,da as Je,la as Qe,ma as Xe,na as h,oa as Re,pa as et,qa as tt,ra as ot,sa as it,ta as nt,ua as st,va as lt,wa as ae,x as qe,xa as me,ya as _e,za as rt}from"./chunk-XBLB7XW3.js";import{$e as B,$j as Ee,Ga as P,Hk as re,Kc as le,Lc as b,Lk as Ze,Yk as Ge,_j as We,ca as ne,da as se,e as g,fe as H,ga as A,i as d,k as x,ka as Ae,la as Be,le as L,me as N,pe as Me,qg as He,qk as Ve,te as U,uk as Ke}from"./chunk-5YY3VNR7.js";d();x();var E=g(A());var Pt=g(Ae());d();x();var c=g(A()),ht=g(Be()),oe=g(je());var Yt="/static/images/tx-history/default-protocol.svg",yt="/static/images/tx-history/default-nft-detail.svg",fe="/static/images/tx-history/default-coin.svg",zt="/static/images/tx-history/default-nft.svg",{NFT_AUTHORIZATION:de,NFT_CANCEL_AUTHORIZATION:xe,CANCEL_NFT:Te,AUTHORIZATION:ve,CANCEL_AUTHORIZATION:we,REGISTRATION:Ct,DAPP_APPLY:ge,DAPP_REDEEM:Ne,DAPP_CLAIM:he}=N,q={[ve]:"wallet_extension_header_approval_title_approve",[we]:"wallet_extension_header_approval_title_cancel_approval",[Te]:"wallet_extension_text_cancel_listing",[de]:"wallet_extension_approve_text_approve",[xe]:"wallet_extension_title_revoke_approve",[ge]:"wallet_extension_subtitle_investwith",[Ne]:"wallet_extension_subtitle_redeem_from",[he]:"wallet_extension_subtitle_claim"},ce={[ve]:"wallet_extension_header_approval_title_for",[we]:"wallet_extension_header_approval_title_for",[Te]:"wallet_extension_text_cancel_listing_on",[de]:"wallet_extension_approve_text_for",[xe]:"wallet_extension_approve_text_for",[ge]:"wallet_extension_subtitle_into",[Ne]:"wallet_extension_subtitle_receive",[he]:"wallet_extension_subtitle_from"};function bt(e){return e?yt:fe}function jt({className:e,label:t,children:i}){return c.default.createElement("div",{className:(0,oe.default)("coin-flow__label",e)},c.default.createElement("div",{className:"coin-flow__label-text"},t),c.default.createElement("div",null,i))}var It={fontSize:"12px",color:"#929292",float:"right"},At={display:"inline-block",float:"right"};function qt({style:e,styles:t,isNFT:i,icon:s,title:o,subTitle:n,right:l}){let{title:f,subTitle:_}=t!=null?t:{},[u,p]=(0,c.useState)(null),[a,m]=(0,c.useState)("none"),T=typeof s=="string"?c.default.createElement(mt,{className:(0,oe.default)({"coin-flow__record-icon-nft":i}),src:s,alt:""}):s;return(0,c.useLayoutEffect)(()=>{u&&l&&m(`${198-u.clientWidth}px`)},[l,u]),c.default.createElement("div",{className:"coin-flow__record",style:e},c.default.createElement("div",{className:"coin-flow__record-icon",ref:p},T),c.default.createElement("div",{className:(0,oe.default)("coin-flow__record-left-box",{"coin-flow__record-left-box--has-right":!!l})},c.default.createElement("div",{className:"coin-flow__record-title-box",style:{maxWidth:a}},c.default.createElement(P,{title:o,disabled:!(o.length>=12&&l||o.length>=20),placement:P.DIRECTION.bottom,style:{width:"auto",maxWidth:"100%"}},c.default.createElement("div",{className:"coin-flow__record-title",style:f},o)),n&&c.default.createElement("div",{className:"coin-flow__record-sub-title",style:_},n))),l&&c.default.createElement("div",{className:"coin-flow__record-right-box"},l))}function Le({logo:e}){let{middleLogo:t,bottomRightLogo:i,topRightLogo:s}=e||{},o=i&&i.length>0,n=s&&s.length>0;return c.default.createElement(c.default.Fragment,null,c.default.createElement(ue,{srcset:t&&t.length>0?t:[fe],topRightLogo:s,bottomRightLogo:i}),(n||o)&&c.default.createElement("div",{className:"coin-flow__record-icon__mul-icons-wrap"},n&&c.default.createElement(ue,{className:"coin-flow__mul-icons__top-right",size:"small",srcset:s}),o&&c.default.createElement(ue,{className:"coin-flow__mul-icons__bottom-right",size:"small",srcset:i})))}function Jt(e){let t=h(),i=t("wallet_extension_history_text_unknown_token"),s=t("wallet_extension_history_text_unknown_protocol");return(0,c.useMemo)(()=>{let{txType:o,txStatus:n,approveInfo:l,output:f}=e,{investInCoins:_}=e.investTxData||{};switch(o){case we:case ve:return{label:t(q[o]),items:[{icon:l.icon||fe,title:l.name||i}]};case xe:case de:return{label:t(q[o]),items:[{icon:l.nftCollectionIcon||zt,title:l.nftCollectionName||t("wallet_extension_title_approve_nft_collection")}]};case Te:return{label:t(q[o]),items:(f||[]).map(({nftId:u,icon:p,name:a})=>({isNFT:!!u,icon:p||yt,title:a||t("wallet_extension_title_approve_nft")}))};case Ct:return{label:"",items:[{icon:l.icon||fe,title:l.name}]};case ge:return{label:t(q[o]),items:(_||[]).map(({tokenName:u,num:p,vdecimalNum:a,tokenLogo:m})=>(p=p?`- ${O(p,{fixed:a})}`:"--",{icon:m!=null?m:i,title:`${p} ${u}`}))};case Ne:{let{investInfo:u,redeemShowNum:p}=e.investTxData||{},{investName:a,platformName:m,investLogo:T}=u||{},w=null,y=!0,S={},D={},G=e.investTxData.investmentDetailType;if((G==U.FARM_LP_TOKEN||G==U.FARM_OTHER_TOKEN)&&(y=!1,S=It,D=At),p&&_&&_.length){let Ie=_[0].num?`- ${O(_[0].num,{fixed:_[0].vdecimalNum})}`:"--";w=c.default.createElement("div",{className:"coin-flow__invest-apply-right",style:D},c.default.createElement("div",{className:"coin-flow__invest-apply-num"},c.default.createElement(P,{title:Ie+(y?_[0].tokenName:""),placement:P.DIRECTION.bottom,style:{maxWidth:"100%",flexDirection:"row-reverse"}},c.default.createElement("div",{style:{width:"auto",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},Ie))),c.default.createElement("div",{className:"coin-flow__invest-apply-token",style:S},_[0].tokenName))}return{label:t(q[o]),items:[{icon:c.default.createElement(Le,{logo:T}),title:a!=null?a:i,right:w,subTitle:c.default.createElement("div",{className:"coin-flow__invest-platform-name"},m!=null?m:s)}]}}case he:{let u;return n===L.PENDING?u=c.default.createElement("div",{className:"coin-flow__claim"},t("wallet_extension_subtitle_claimwith"),c.default.createElement(P,{title:t("wallet_extension_card_ntfy_claim_text"),placement:P.DIRECTION.bottomLeft},c.default.createElement("span",{className:"okds-information-circle",style:{color:"#929292"}}))):u=t(q[o]),{label:u,items:(_||[]).map(({tokenName:p,num:a,vdecimalNum:m,tokenLogo:T})=>(a=a?`+ ${O(a,{fixed:m})}`:"--",{icon:T!=null?T:i,title:`${a} ${p}`,styles:{title:{color:"#05C28C"}}}))}}default:return f&&f.length>0?{label:t("wallet_extension_header_redeem_title_sent"),items:(f||[]).map(({name:u,amount:p,icon:a,vdecimalNum:m,nftId:T})=>({isNFT:!!T,icon:a||bt(T),title:`- ${O(p,{fixed:m})} ${u}`}))}:null}},[t,e])}function Qt(e){let t=h(),i=t("wallet_extension_history_text_unknown_token"),s=t("wallet_extension_history_text_unknown_protocol");return(0,c.useMemo)(()=>{let{txType:o,contractInfo:n,input:l}=e,{investInfo:f,investOutCoins:_,investmentDetailType:u}=e.investTxData||{};switch(o){case de:case xe:case we:case ve:case Te:return{label:t(ce[o]),items:[{icon:n.icon||Yt,title:n.name||t("wallet_extension_history_text_unknown_protocol"),subTitle:o!==N.CANCEL_NFT&&n.address&&c.default.createElement(K,{className:"coin-flow__record-address",label:B(n.address),value:n.address,message:t("wallet_extension_popup_title_receiving_address_copied")})}]};case ge:{let{investName:p,platformName:a,investLogo:m}=f||{},T,w={},y={};if(e.investTxData.investmentDetailType==U.FARM_OTHER_TOKEN&&(w=It,y=At),(u===U.SAVE_OTHER_COIN||u===U.VAULTS_OTHER_COIN||u===U.FARM_OTHER_TOKEN)&&_&&_.length>0){let[{tokenName:S,num:D,vdecimalNum:G}]=_;T=c.default.createElement("div",{className:"coin-flow__invest-apply-right",style:y},c.default.createElement("div",{className:"coin-flow__invest-apply-num"},c.default.createElement(j,{text:D?O(D,{fixed:G}):"--",maxWidth:"113px"})),c.default.createElement("div",{className:"coin-flow__invest-apply-token",style:w},S))}return{label:t(ce[o]),items:[{icon:c.default.createElement(Le,{logo:m}),title:p!=null?p:i,subTitle:c.default.createElement("div",{className:"coin-flow__invest-platform-name"},a!=null?a:s),right:T}]}}case Ne:return!_||(_==null?void 0:_.length)===0?null:{label:t(ce[o]),items:(_||[]).map(({tokenName:p,num:a,tokenLogo:m,vdecimalNum:T,tokenId:w})=>{let y;a?y=`+ ${O(a,{fixed:T})}`:y="--";let S=e.txStatus===L.SUCCESS&&w,D=S?`${y} ${p} #${S}`:`${y} ${p}`;return{icon:m,title:D}}),className:"coin-flow__receive"};case he:{let{platformName:p,investLogo:a,investName:m}=f||{};return{label:t(ce[o]),items:[{icon:c.default.createElement(Le,{logo:a}),title:m!=null?m:i,subTitle:c.default.createElement("div",{className:"coin-flow__invest-platform-name"},p!=null?p:s)}]}}case Ct:return null;default:return l&&l.length>0?{label:t("wallet_extension_header_redeem_title_reveive"),items:l.map(({name:p,amount:a,icon:m,vdecimalNum:T,nftId:w})=>(m=m||bt(w),{isNFT:!!w,icon:m,title:`+ ${O(a,{fixed:T})} ${p}`})),className:"coin-flow__receive"}:null}},[t,e])}function Oe({data:e}){let{txType:t}=e,i=Jt(e),s=Qt(e);if(!i&&!s||t===N.CANCEL_NFT&&i.items.length===0)return null;let o=!i||!s,n=l=>{if(!l)return null;let{items:f,label:_,titleStyle:u={},subTitleStyle:p={},...a}=l;return c.default.createElement(jt,{...a,label:_},f.map((m,T)=>c.default.createElement(qt,{styles:{title:u,subTitle:p},...m,key:T})))};return c.default.createElement("div",{className:(0,oe.default)("coin-flow",{"coin-flow__hidden-label":o})},n(i),n(s))}var Et=Oe;Oe.propTypes={data:ht.default.object};Oe.defaultProps={data:{}};d();x();var r=g(A());var Dt=g(je());var Lt=g(Ae());d();x();var k=g(A());function Xt({mainCoinId:e}){let t=h(),{coin:i}=ee(e);return k.default.createElement(C,{label:t("wallet_extension_mid_text_network"),value:k.default.createElement("div",{className:"tx-detail-info__network"},k.default.createElement("img",{src:i.image,alt:""}),i.chainName)})}function Rt({data:e}){let t=h(),i=b(H),{txTime:s,txHash:o,from:n}=e;return k.default.createElement("div",{className:"tx-detail-info"},k.default.createElement(C,{label:t("wallet_extension_info_text_type"),value:t("wallet_extension_history_text_change_pubkey")}),k.default.createElement(C,{label:t("wallet_extension_mid_text_time"),value:ne(s,{format:"yyyyMMddHHmmss",locale:i})}),k.default.createElement(C,{label:t("wallet_extension_history_item_address"),value:k.default.createElement(K,{label:B(n),value:n,message:t("wallet_extension_popup_title_receiving_address_copied")})}),k.default.createElement(Xt,{...e}),k.default.createElement(C,{label:t("wallet_extension_mid_text_transaction_hash"),value:k.default.createElement(K,{label:B(o),value:o,message:t("wallet_extension_popup_title_transaction_hash_copied")})}))}var St=Rt;function eo({txStatus:e,isShowPending:t,repeatTxType:i}){let s=h(),o,n,l,f=!1;return e===L.CONFIRMING||e===L.SUCCESS?(o=s("wallet_extension_history_status_completed"),n="/static/images/transaction-completed.svg",l="#05C28C"):e===L.PENDING?t?(o=s(Me[i]),n="/static/images/tx-detail/transaction-pending-loading.svg",l="#F16514",f=!0):(o=s("wallet_extension_history_list_status_waiting"),n="/static/images/tx-detail/transaction-waiting.svg",l="#BDBDBD"):(o=s("wallet_extension_history_status_failed"),n="/static/images/transaction-failed.svg",l="#DF473D"),r.default.createElement(C,{label:s("wallet_extension_mid_text_status"),value:r.default.createElement("div",{className:(0,Dt.default)("tx-detail-info__status",{"tx-detail-info__status--loading":f})},r.default.createElement("img",{src:n,alt:""}),r.default.createElement("span",{style:{color:l}},o))})}function to({txType:e,investTxData:t}){let i=h();if(!t||!t.lpTokenInfo||[U.FARM_LP_TOKEN,U.FARM_OTHER_TOKEN].includes(t==null?void 0:t.investmentDetailType))return null;let s;if(e===N.DAPP_APPLY?s="wallet_extension_info_receive":e===N.DAPP_REDEEM&&(s="wallet_extension_info_pay"),!s)return null;let{num:o,tokenName:n}=t.lpTokenInfo;return r.default.createElement(C,{label:i(s),value:`${o?O(o,{fixed:10}):"--"}${n}`})}function oo(e){let{txType:t,approveInfo:i}=e,s=h(),{amount:o,vdecimalNum:n,decimalNum:l}=i||{},f=qe(u=>O(Ee(u||"0",10**(l||0)),{fixed:n||0})),_=(0,r.useMemo)(()=>o==="115792089237316195423570985008687907853269984665640564039457584007913129639935"?s("wallet_extension_mid_text_unlimited"):f(o),[o]);return t!==N.AUTHORIZATION?null:r.default.createElement(C,{label:s("wallet_extension_mid_text_approved_amount"),value:_})}function io({txStatus:e,totalConfirm:t,confirmedCount:i}){let s=h();return e===L.PENDING||e===L.ERROR||typeof t!="number"||t<=0||i<0||i>=t?null:r.default.createElement(C,{label:s("wallet_extension_mid_text_block_confirmation"),value:i})}function no({txType:e}){let t=h();return e!==N.NFT_AUTHORIZATION?null:r.default.createElement(C,{label:t("wallet_extension_text_approved_asset"),value:r.default.createElement("div",null,t("wallet_extension_approve_all_nft_collection"))})}function so({mainCoinId:e}){let t=h(),{coin:i}=ee(e);return r.default.createElement(C,{label:t("wallet_extension_mid_text_network"),value:r.default.createElement("div",{className:"tx-detail-info__network"},r.default.createElement("img",{src:i.image,alt:""}),i.chainName)})}function Ot({address:e,network:t}){let i=h(),[s,o]=(0,r.useState)(!1),[n,l]=(0,r.useState)({}),[f,_]=(0,r.useState)(""),u=at(()=>{_(pe.TYPE.ADD),l({address:e,network:t}),o(!0)}),p=m=>{o(!1),setTimeout(()=>{_(pe.TYPE.EDIT),l({address:m}),o(!0)})},a=()=>{o(!1),l({}),_("")};return r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:"tx-detail-info__add-address"},r.default.createElement(P,{className:"tx-detail-info__add-address__tooltip",title:i("wallet_extension_history_pop_tap_to_add"),type:P.TYPES.neutral,placement:P.DIRECTION.bottomRight},r.default.createElement("img",{className:"tx-detail-info__add-address__img",src:"/static/images/address-book/add-border.svg",alt:"add",onClick:u}))),s&&r.default.createElement(pe,{type:f,data:n,onClose:a,onChangeToEdit:p}))}function lo({from:e,mainCoinId:t,txType:i}){let s=h(),o=Se(t),n=De(o),{label:l,canAdd:f}=(0,r.useMemo)(()=>{let _=!1,u;return(i===N.TRANS_IN||i===N.TRANS_OUT||i===N.SEND_NFT||i===N.RECEIVE_NFT)&&(u=n(e),_=!u),{label:u?r.default.createElement(j,{maxWidth:"200px",text:u.name}):B(e),canAdd:_}},[e,i,n]);return r.default.createElement(C,{label:s("wallet_extension_mid_text_from"),value:r.default.createElement(r.default.Fragment,null,r.default.createElement(K,{label:l,value:e,message:s("wallet_extension_popup_title_receiving_address_copied")}),f&&r.default.createElement(Ot,{address:e,network:o}))})}function ro({to:e,txType:t,contractInfo:i,mainCoinId:s}){let o=h(),n=Se(s),l=De(n),{label:f,toAddress:_,clipboardLabel:u,canAdd:p}=(0,r.useMemo)(()=>{let a,m,T,w=!1;if(t===N.TRANS_IN||t===N.TRANS_OUT||t===N.SEND_NFT||t===N.RECEIVE_NFT){let y=l(e);w=!y,a=o("wallet_extension_mid_text_to"),m=y?r.default.createElement(j,{maxWidth:"200px",text:y.name}):B(e),T=e}else{let{icon:y,name:S,address:D}=i||{};a=t===N.REGISTRATION?o("wallet_extension_item_register_address"):o("wallet_extension_mid_text_interaction_address"),t===N.AUTHORIZATION||t===N.CANCEL_AUTHORIZATION||t===N.NFT_AUTHORIZATION||t===N.NFT_CANCEL_AUTHORIZATION?(T=e,m=B(e)):(T=D,T&&(S?m=r.default.createElement("div",{className:"tx-detail-info__to-name"},y&&r.default.createElement("img",{src:y,alt:""}),r.default.createElement(j,{maxWidth:"180px",text:S})):m=B(T)))}return{label:a,toAddress:T,clipboardLabel:m,canAdd:w}},[o,e,t,i,l]);return r.default.createElement(C,{label:f,value:_?r.default.createElement(r.default.Fragment,null,r.default.createElement(K,{label:u,value:_,message:o("wallet_extension_popup_title_receiving_address_copied")}),p&&r.default.createElement(Ot,{address:_,network:n})):null})}function ao({mainCoinId:e,txStatus:t,serviceCharge:i,chainSymbol:s,gasPrice:o,gasLimit:n,serviceChargeUsd:l,feeName:f,feeDecimalNum:_,feeVdecimalNum:u}){let p=h(),a=re(e),m=Ze(e),{coin:T}=ee(e),w=b(He),y=se.thousandFormat(Je(o)),S,D,G;m?(S=_,D=u,G=f):(S=T.decimals,D=T.vdecimalNum,G=s);let Pe=`${O(Ee(i||"0",10**(S||0)),{fixed:D||0})} ${G}`;if((a||m)&&t!==L.PENDING){let{usdToThisRate:Gt}=w,R=We(l,Gt);Ke(R,.01)?R=`${w.symbol}<0.01`:R=`${w.symbol}${se.thousandFormat(Ve(R))}`,Pe+=` (${R})`}return r.default.createElement(r.default.Fragment,null,r.default.createElement(C,{label:p("wallet_extension_mid_text_network_fee"),value:Pe}),a&&t===L.PENDING&&r.default.createElement("div",{className:"tx-detail-info__gas-fee"},p("wallet_extension_popup_cancle_transaction_gasprice_gaslimit",{gasPrice:y,gasLimit:se.thousandFormat(n)})))}function mo({memo:e}){let t=h();return(0,Lt.isNil)(e)?null:r.default.createElement(C,{label:t("wallet_extension_text_memocontent"),value:r.default.createElement(j,{text:e||"--",maxWidth:"260px"})})}function _o({data:e}){let t=h(),i=b(H),{txTime:s,txHash:o,txType:n}=e;return n===N.ZKSPACE_REGISTER?r.default.createElement(St,{data:e}):r.default.createElement("div",{className:"tx-detail-info"},r.default.createElement(eo,{...e}),r.default.createElement(to,{...e}),r.default.createElement(C,{label:t("wallet_extension_mid_text_time"),value:ne(s,{format:"yyyyMMddHHmmss",locale:i})}),r.default.createElement(no,{...e}),r.default.createElement(oo,{...e}),r.default.createElement(io,{...e}),r.default.createElement(lo,{...e}),r.default.createElement(ro,{...e}),r.default.createElement(so,{...e}),r.default.createElement(ao,{...e}),r.default.createElement(mo,{...e}),r.default.createElement(C,{label:t("wallet_extension_mid_text_transaction_hash"),value:r.default.createElement(K,{label:B(o),value:o,message:t("wallet_extension_popup_title_transaction_hash_copied")})}))}var kt=_o;d();x();var M=g(A());function uo({data:e,onRefresh:t}){let i=h(),{txStatus:s,explorerUrl:o,isShowSpeedUp:n,isShowCancel:l,isShowSpeedupCancel:f,mainCoinId:_}=e,[u,p]=(0,M.useState)(!1),[a,m]=(0,M.useState)(!1),T=re(_);return M.default.createElement("div",{className:"tx-detail-action"},M.default.createElement(wt,{url:o,text:i("wallet_extension_mid_link_explorer")}),T&&s===L.PENDING&&M.default.createElement(M.default.Fragment,null,M.default.createElement(gt,{isShowCancel:l,isShowSpeedUp:n,isShowSpeedupCancel:f,onCancel:()=>{p(!0)},onSpeedUp:()=>{m(!0)}}),u&&M.default.createElement(Tt,{visible:u,tx:e,onConfirm:w=>{t(w),p(!1)},onClose:()=>{p(!1)}}),a&&M.default.createElement(vt,{visible:a,tx:e,onConfirm:w=>{t(w),m(!1)},onClose:()=>{m(!1)}})))}var Ft=uo;function po(e){let t=h(),{txType:i,approveInfo:s}=e||{};return rt(i,{symbol:(s==null?void 0:s.name)||t("wallet_extension_history_text_unknown_token")})}function co({params:e,onRefresh:t,onClose:i}){let s=le(),o=(0,E.useRef)(""),[n,l]=(0,E.useState)(),f=po(n),_=b(pt),u=b(ct),p=m=>{if(!e)return;let{coinId:T,address:w}=e;!m&&s(Ue()),Ge({coinId:T,txId:o.current,address:w}).then(y=>{e&&!(0,Pt.isEmpty)(y)&&l(y)}).finally(()=>{s($e())})},a=()=>{Ye(null),ze(null),p(!0)};return(0,E.useEffect)(()=>{e?(o.current=e.txId,p()):(o.current="",l(null))},[e]),(0,E.useEffect)(()=>{var m;(_&&((m=n==null?void 0:n.orderTxIdList)==null?void 0:m.includes(_.txId))||u&&u.txId===o.current&&u.confirmedCount<=u.totalConfirm)&&a()},[_,u]),!n||!e?null:E.default.createElement("div",{className:"tx-detail"},E.default.createElement(_t,{title:f,onBack:i}),E.default.createElement(Nt,{message:n.failReason}),E.default.createElement("div",{className:"tx-detail__inner"},E.default.createElement(Et,{data:n}),E.default.createElement(kt,{data:n}),E.default.createElement(Ft,{data:n,onRefresh:m=>{o.current=m,a(),t&&t()}})))}var ke=co;d();x();d();x();var ye=g(A());d();x();var $=g(A());var fo=({data:e={},onClick:t,onRepeat:i})=>{let s=b(H),o=Re(e),n=ot(e),l=et(e),f=tt(e,s),_=me(e),u=ae(e),p=Xe(e),a=_e(f,n),m=$.default.createElement(v.Label,{className:"tx-history-ml4",type:_,text:u});return $.default.createElement(v.ItemContainer,{onClick:t},$.default.createElement(v.Row,{assets:n,align:a},$.default.createElement(v.Info,{icons:o,title:l,details:f,label:m}),$.default.createElement(v.Assets,{assets:n})),p?$.default.createElement(v.NFTs,{data:e}):null,$.default.createElement(v.Actions,{data:e,onRepeat:i}))},Bt=(0,$.memo)(fo);var xo=({data:e={},onClick:t,onRepeat:i})=>ye.default.createElement(Bt,{data:e,onClick:t,onRepeat:i}),J=(0,ye.memo)(xo);d();x();var W=g(A());var To=({pendingList:e,isLoading:t,onRepeat:i,onClick:s,onContainer:o})=>{let[n,l]=(0,W.useState)({}),[f,_]=(0,W.useState)(0);return t||!e?null:!t&&e.length===0?W.default.createElement(v.Empty,{top:72}):W.default.createElement(v.ListContainer,{onContainer:o,style:{paddingTop:"8px"}},W.default.createElement(v.Dialogs,{data:n,type:f,onConfirm:()=>{l({}),_(0),i()},onCancel:()=>{_(0)}}),e.map((u,p)=>W.default.createElement(J,{data:u,key:p,onClick:()=>{s(u)},onRepeat:a=>{l(u),_(a)}})))},Mt=(0,W.memo)(To);d();x();var X=g(A()),ie=g(Be());d();x();var Q=g(A());var vo=({date:e,list:t,onClick:i})=>Q.default.createElement(v.List,null,Q.default.createElement(v.Date,null,e),t.map((s,o)=>Q.default.createElement(J,{data:s,key:o,onClick:()=>{i(s)}}))),Ht=(0,Q.memo)(vo);var Fe=({completedList:e,isLoading:t,onContainer:i,onClick:s})=>t||!e?null:!t&&e.length===0?X.default.createElement(v.Empty,{top:72}):X.default.createElement(v.ListContainer,{onContainer:i},e.map(({date:o,list:n},l)=>X.default.createElement(Ht,{date:o,list:n,key:l,onClick:s})));Fe.propTypes={completedList:ie.default.arrayOf(ie.default.shape({date:ie.default.string,list:ie.default.array}))};Fe.defaultProps={completedList:[]};var Ut=(0,X.memo)(Fe);var wo={VirtualItem:J,PendingList:Mt,CompletedList:Ut};d();x();d();x();d();x();var F=g(A());d();x();var V=g(A());d();x();var Ce=g(A());d();x();var Z=g(A());var go=({data:e={},onClick:t,onRepeat:i})=>{let s=b(H),o=it(e),n=nt(e),l=st(e,s),f=lt(e),_=_e(l,f),u=me(e),p=ae(e),a=Z.default.createElement(v.Label,{className:"tx-history-ml4",type:u,text:p});return Z.default.createElement(v.ItemContainer,{onClick:t},Z.default.createElement(v.Row,{assets:f,align:_},Z.default.createElement(v.Info,{icons:o,title:n,details:l,label:a}),Z.default.createElement(v.Assets,{assets:f})),Z.default.createElement(v.Actions,{data:e,onRepeat:i}))},$t=(0,Z.memo)(go);var No=({data:e={},onRepeat:t,onClick:i})=>Ce.default.createElement($t,{data:e,onClick:i,onRepeat:t}),be=(0,Ce.memo)(No);var ho=({pendingList:e,onRepeat:t,onClick:i})=>{let[s,o]=(0,V.useState)({}),[n,l]=(0,V.useState)(0);return V.default.createElement(V.default.Fragment,null,V.default.createElement(v.Dialogs,{data:s,type:n,onConfirm:()=>{o({}),l(0),t()},onCancel:()=>{l(0)}}),e.map((f,_)=>V.default.createElement(be,{data:f,key:_,onRepeat:u=>{o(f),l(u)},onClick:()=>{i(f)}})))},Wt=(0,V.memo)(ho);d();x();var Y=g(A());var yo=({completedList:e,onClick:t})=>Y.default.createElement(Y.default.Fragment,null,e.map(({date:i,list:s},o)=>Y.default.createElement(v.List,{key:o},Y.default.createElement(v.Date,null,i),s.map((n,l)=>Y.default.createElement(be,{data:n,key:l,onClick:()=>{t(n)}}))))),Vt=(0,Y.memo)(yo);var Co=({txList:e,isLoading:t,onRepeat:i})=>{let[s,o]=(0,F.useState)(),n=b(H),[l,f]=(0,F.useMemo)(()=>Qe(e,n,!0),[e,n]);return!t&&l.length===0&&f.length===0?F.default.createElement(v.Empty,null):t||!Array.isArray(e)?null:F.default.createElement("div",{className:"coin-history__list"},F.default.createElement(Wt,{pendingList:l,onRepeat:i,onClick:o}),F.default.createElement(Vt,{completedList:f,onClick:o}),F.default.createElement(ke,{params:s,onRefresh:i,onClose:()=>{o(null)}}))},Kt=(0,F.memo)(Co);var bo={TxList:Kt};d();x();var z=g(A());var Zt=g(Ae());function ls({scrollContainer:e,selector:t=".tx-history-item-container",index:i=15},s){let o=le(),n=(0,z.useRef)(null),l=b(ut),f=b(ft),_=b(dt),[u,p]=(0,z.useState)(0);(0,z.useLayoutEffect)(()=>{let a;if(e){let m=e.querySelectorAll(t);a=(0,Zt.throttle)(()=>{let{bottom:T}=e.getBoundingClientRect(),{top:w}=n.current.getBoundingClientRect();o(te(w>=T))},200),n.current=m[i],n.current?(a(),e.addEventListener("scroll",a)):o(te(!0))}else o(te(!0));return()=>{e&&(e.removeEventListener("scroll",a),n.current=null)}},[u,e,t,i,l]),(0,z.useEffect)(()=>{f&&_&&(s&&s(),o(te(!1)),o(xt(!1)),p(a=>{let m=a+1;return m>=1e6&&(m=1),m}))},[f,_])}export{ke as a,bo as b,wo as c,ls as d};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

