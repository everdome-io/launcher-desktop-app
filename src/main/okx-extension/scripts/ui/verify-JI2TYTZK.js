import{a as H}from"./chunk-ZT442ZHK.js";import{c as Y}from"./chunk-5OOIT5PD.js";import{a as R}from"./chunk-VHYCH4IC.js";import{D as U,E as V,ya as F}from"./chunk-U3HLVTEP.js";import"./chunk-5TVTY5EZ.js";import{i as $}from"./chunk-PFBN4VGD.js";import"./chunk-RJTK42A4.js";import{na as G}from"./chunk-XBLB7XW3.js";import{Jc as L,Ka as c,Kc as M,Rc as C,ah as B,e as k,g as S,ga as A,i as s,k as r,ki as O,la as D,li as P}from"./chunk-5YY3VNR7.js";s();r();s();r();s();r();var t=k(A());var W=k(D());s();r();s();r();var n=k(A()),p=k(D());s();r();var y=class extends n.default.Component{render(){let{t:h}=this.context,g=this.props.confuseWords;return n.default.createElement("div",{className:"seed-box"},n.default.createElement("div",{className:"seed-box-title"},n.default.createElement("span",{className:"seed-box-title-word"},h("wallet_double_check_seed_phase_label_seed_word")),n.default.createElement("span",{className:"seed-box-title-index"},"#",this.props.index)),g.map((l,f)=>n.default.createElement("div",{key:f,onClick:d=>{this.props.getSelectWord(this.props.compIndex,f,l,d)},className:`seed-box-item ${f===this.props.selectedIndex?"active":""}`},n.default.createElement("span",{className:"seed-box-item-index"},l))))}};S(y,"contextTypes",{t:p.default.func});y.propTypes={selectedIndex:p.default.number,confuseWords:p.default.array,index:p.default.number,compIndex:p.default.number,getSelectWord:p.default.func};var T=y;var j=({selectedWallet:m,keyringIdentities:h})=>{var E,v;let g=M(),l=G(),f={title:l("wallet_backup_subtitle_double_check_seed_phase"),desc:l("wallet_double_check_seed_phase_subtitle_verify_seed_phase")},d=C(),{walletId:z}=R((E=d.location.search)==null?void 0:E.slice(1)),x=z||m,[w,J]=(0,t.useState)([]),[b,K]=(0,t.useState)([]);(0,t.useEffect)(()=>{(async()=>{let e=await V(x);J([...e]),K([...e.map(a=>a.word)])})()},[]);let[i,I]=(0,t.useState)([]),Q=l("wallet_backup_wallet_toast_backup_success"),N=l("wallet_double_check_seed_phase_errortip_wrong"),X=(o,e)=>{let a=[...i];a[o]=i[o]===e?-1:e,I(a)},Z=o=>o.map((e,a)=>w[a].confuseWords[e]),ee=async()=>{let o=Z(i);if(b.length!==o.length)return I([]),c.warn({title:N,duration:1.5,placement:c.DIRECTION.top}),!1;let e=b.length;for(let u=0;u<e;u++)if(b[u]!==o[u])return I([]),c.warn({title:N,duration:1.5,placement:c.DIRECTION.top}),null;return await U(x),await F(g),c.success({title:Q,duration:1.5,placement:c.DIRECTION.top}),d.location.pathname===O?d.replace(`${P}?from=seedVerify`):d.push(B),null};return(0,t.useEffect)(()=>{i.includes(-1)||i.length<3||ee()},[i]),t.default.createElement("div",{className:"main-container"},t.default.createElement($,{title:((v=Y(h,x))==null?void 0:v.keyringName)||""}),t.default.createElement("div",{className:"verify-page-main"},t.default.createElement(H,{...f}),w.map((o,e)=>t.default.createElement(T,{key:e,...o,getSelectWord:(a,u)=>{X(a,u)},selectedIndex:i[e],compIndex:e}))))};j.propTypes={selectedWallet:W.default.string,keyringIdentities:W.default.array};var q=j;var te=m=>({selectedWallet:m.metamask.selectedWallet,walletIdentities:m.metamask.walletIdentities,keyringIdentities:m.metamask.keyringIdentities}),se=L(te)(q);export{se as default};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

