import{a as v}from"./chunk-37MPKQEP.js";import{c as U}from"./chunk-JGXQ47HT.js";import{Q as F,h as w,na as $,z as B}from"./chunk-XBLB7XW3.js";import{$j as D,Ha as x,Lc as C,Lj as b,Rc as N,Ui as L,Zb as k,ak as E,bk as M,e as T,ga as g,i as c,k as m,oc as _}from"./chunk-5YY3VNR7.js";c();m();var I=T(g());var R=()=>{let e=C(U);return(0,I.useMemo)(()=>e.map(o=>{let{coinAmountDec:t="0"}=o;return{...o,balance:t,balanceShow:F(t,{fixed:6})}}),[e])},q=()=>R().find(t=>t.coinId===_)||{},O=e=>{let o=R(),t=q(),s=(0,I.useMemo)(()=>o.find(r=>r.coinId===e),[o,e]);return(0,I.useMemo)(()=>({coin:s,suiBaseToken:t}),[s,t])};c();m();var V=()=>{let{accountMap:e={}}=v(),o=e[k];return o||null};c();m();c();m();var i=T(g());var po=()=>{let e=B(),o=e.get("coinId")&&Number(e.get("coinId"))||_,{coin:t={},suiBaseToken:s={}}=O(o),{symbol:a,imageUrl:r,decimalNum:u,coinAmountDec:d}=t,{coinAmountDec:f}=s;return{symbol:a,coinLogo:r,decimals:u,coinId:o||_,baseCoinSymbol:s.symbol,baseCoinDecimals:s.decimalNum,baseCoin:t.baseCoinId===t.coinId,balance:d,baseBalance:f}},So=({coinId:e,decimals:o})=>{let t=V(),[s,a]=(0,i.useState)(!0),[r,u]=(0,i.useState)(0),d=(0,i.useCallback)(async()=>{var p,y;try{let{data:l}=await b({coinId:e,address:t}),h=((y=(p=l==null?void 0:l.info)==null?void 0:p.data)==null?void 0:y.totalGasFee)||0;u(h)}catch(l){console.log(l)}finally{a(!1)}},[]);w(()=>{d()});let f=(0,i.useMemo)(()=>D(r,10**o),[o,r]);return[s,f]},_o=({decimals:e,baseCoin:o,balance:t,baseBalance:s,coinId:a,networkFee:r})=>{let u=x.useForm(),d=N(),f=$(),p=n=>n==0?f("wallet_transfer_amount_errortip_amount_zero"):s<r?f("wallet_transfer_errortip_mainchain_coin_insufficient",{chainSymbol:o==null?void 0:o.symbol}):o&&E(n,r)>t||!o&&n>t?f("wallet_transfer_errortip_insufficient_balance"):null,y=(0,i.useCallback)(async n=>{let S=p(n);u.setErrors({amount:S})},[r]),l=(0,i.useCallback)(async()=>{let n=0;o?n=M(t,r):n=t,u.setFieldsValue({amount:n});let S=p(n);u.setErrors({amount:S})},[t,o,r]),h=(0,i.useCallback)(()=>{let{amount:n,toAddress:S}=u.getFieldsValue();d.push(`${L}?coinId=${a}&amount=${n}&toAddress=${S}&networkFee=${r}`)},[a,d,r]);return[u,{onConfirm:h,onSendAmountChange:y,onSetSendAmountMax:l}]};export{R as a,q as b,O as c,V as d,po as e,So as f,_o as g};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

