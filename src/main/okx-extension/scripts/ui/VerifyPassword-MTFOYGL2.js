import{a as S}from"./chunk-VHYCH4IC.js";import{e as C,f as Y}from"./chunk-FLV5D6IE.js";import{Va as W,f as h,k as I,l as A,u as P}from"./chunk-U3HLVTEP.js";import"./chunk-5TVTY5EZ.js";import{i as N}from"./chunk-PFBN4VGD.js";import"./chunk-RJTK42A4.js";import{na as D,x as w}from"./chunk-XBLB7XW3.js";import{Kc as u,La as d,ah as y,e as k,ga as F,i as T,k as L,sh as g,ta as o,uh as v,ya as E}from"./chunk-5YY3VNR7.js";T();L();var e=k(F());var i={DELETE_WALLET:"deleteWallet",DELETE_LAST_WALLET:"deleteLastWallet",DELETE_KEYRING_WALLETS:"deleteKeyringWallets"},G=13,H=l=>{let{current:{walletId:_,keyringId:b,actionType:r,nextPath:c=y}}=e.default.useRef(S(l.history.location.search.slice(1))),s=u(),[t,K]=e.default.useState(),[m,p]=e.default.useState(),a=D(),O=w(({target:{value:n}})=>{K(n),p(void 0)},[]),f=w(async()=>{try{if(await P(t)===!0){if(r===i.DELETE_LAST_WALLET){await s(h()),await s(W()),l.history.push(v);return}else r===i.DELETE_WALLET?(await s(I(_)),await s(Y(_)),d.success(a("wallet_editwallet_toast_delete_wallet_success"))):r===i.DELETE_KEYRING_WALLETS&&(await s(A(_)),await s(C(b)),d.success(a("wallet_editwallet_toast_delete_wallet_success")));l.history.replace(c)}}catch{p(a("wallet_set_password_errortip_password_wrong"))}},[c,_,t,r]);return e.default.createElement("div",{className:"verify_password_page__wrapper main-container",onKeyDown:n=>{n.keyCode===G&&f()}},e.default.createElement(N,{bordered:!1,closeable:[i.DELETE_WALLET,i.DELETE_KEYRING_WALLETS].includes(r)}),e.default.createElement("div",{className:"verify-password-page"},e.default.createElement("h2",{className:"verify-password-page__header"},a("wallet_set_password_maintitle_enter_password")),e.default.createElement("div",{className:"verify-password-page__input"},e.default.createElement(E.Password,{autoFocus:!0,value:t,autoComplete:"off",onChange:O,size:E.SIZE.xl,error:m,errorType:E.TIP_TYPE.always})),e.default.createElement("div",{onClick:()=>l.history.push(g),className:"verify-password-page__forget-password"},a("wallet_footer_subtitle_forgot_password")),e.default.createElement(o,{onClick:f,size:o.SIZE.md,type:o.TYPE.highlight,category:o.CATEGORY.fill,className:"verify-password-page__button",disabled:!t||(t==null?void 0:t.length)<6||!!m},a("wallet_set_password_btn_confirm"))))};export{H as default};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

